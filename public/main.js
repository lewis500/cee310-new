(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{398:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(44),o=a(48),i=a(118),l=a(47),s=a(402),u=a(51),m=a(35),f=a(265),d=a(30),h=function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)((function(){if(t){var e=0,r=Object(d.c)((function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)}));return function(){return r.stop()}}}),[t])},p=a(115),y=a(45),E=[14.85,49.85],x=p.a.A400,b=y.a.A400,g=a(59),v=a.n(g),k=a(620);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A,M,T,P=function(e){return Math.max(Math.min(1e5/3600,1.25/.065*(e/(1/.11)-1)),0)},N=function(e){return Math.max(Math.min(6e4/3600,.45/.083*(e/(1/.11)-1)),0)},L=(A=S(E,2),M=A[0],T=A[1],function(e){return e>=M&&e<=T}),C=[{t:0,a:0,d:0}],R=function(){for(var e=v()(0,123.52941176470587).map((function(e){return 550-32.6797385620915*e})),t=e.map((function(e){return[[0,e]]})),a=function(a){var r=L(a),n=j({},C[C.length-1],{t:a});e=e.map((function(e,t,a){var c=function(e,t,a){var r=e[t],n=0===t?1/0:e[t-1];return!a||r<=470?r+.15*P(n-r):r+.15*N(n-r)}(a,t,r);return e<30&&c>30&&n.a++,e<500&&c>500&&n.d++,c}));for(var c=0;c<t.length;c++)t[c].push([a,e[c]]);C.push(n)},r=0;r<105;r+=.15)a(r);return t}();console.log(C);var _,D,I,W,z={dots:[_=[E[0]+.15,470],D=[E[1],470],W=[_[0]+(I=55.681818181818194)+1,470-I*7.142857142857145]],lines:[[_,W],[D,W]]},K=(R.map((function(e,t){return Object(k.a)().domain(e.map((function(e){return e[0]}))).range(e.map((function(e){return e[1]})))})),R.map((function(e,t){return function(t,a){var r=e[t][1];return r+((e[t+1]?e[t+1][1]:e[t][1])-r)*a}}))),Y={play:!1,time:0},F=function(e,t){switch(t.type){case"SET_TIME":return j({},e,{time:t.payload});case"TICK":return j({},e,{time:e.time+t.payload});case"SET_PLAY":return j({},e,{play:t.payload});case"RESET":return j({},e,{time:0});default:return e}},G=n.a.createContext({state:Y,dispatch:null}),H=(a(54),a(170)),q=a.n(H),B=a(29),V=function(e,t,a){return Object(r.useMemo)((function(){return Object(k.a)().domain(t).range(e)}),a)};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(G).state,o=Z({width:t,height:a}),i=V([0,t],[0,550],[t]),l=V([a,0],[0,20],[a]),s=X(Object(r.useMemo)((function(){return[i(470),a-l(10),i(5),a-l(2)]}),[i,l]),4),u=(s[0],s[1]),m=s[2],f=s[3],d=X(Object(r.useMemo)((function(){return["M0,0L".concat(t,",0")]}),[t]),1)[0],h=c.time/.15,p=R.map((function(e,t){var a=Math.floor(h),r=h-a;return[t,K[t](a,r)]}));return n.a.createElement("g",null,n.a.createElement("path",{className:o.road,d:d,style:{strokeWidth:u}}),L(c.time)&&n.a.createElement("path",{className:o.cZone,d:"M".concat(i(470),",0L").concat(i(550),",0"),strokeWidth:u}),n.a.createElement("g",null,p.map((function(e,t){return n.a.createElement("rect",{key:e[0],className:o.car,transform:"translate(".concat(i(e[1])-m,",").concat(-f/2,")"),height:f,width:m})}))))},Z=Object(s.a)({road:{stroke:B.a.grey[300]},car:{fill:B.a.purple.A400,rx:1,ry:1},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},cZone:{stroke:B.a.amber.A700}}),J=a(619),Q=a(9),$=a.n(Q),ee={fontSize:"12px"},te=n.a.memo((function(e){var t=e.x,a=e.y,r=e.dx,c=void 0===r?0:r,o=e.dy,i=void 0===o?0:o,l=e.rotate,s=void 0===l?0:l,u=e.latexstring,m=void 0===u?"":u;return n.a.createElement("foreignObject",{width:"60",height:"50",transform:"translate(".concat(t,", ").concat(a,") rotate(").concat(s,") translate(").concat(c,",").concat(i,")")},n.a.createElement("span",{style:ee},n.a.createElement($.a,{math:m})))}));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){ne(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe,ie,le,se=20,ue=25,me=50,fe=40,de="translate(".concat(me,",").concat(se,")"),he=(oe={strokeWidth:"2px",color:o.a[800]},function(e){var t=e.width,a=e.height;return n.a.createElement(n.a.Fragment,null,n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(a),fill:"none",stroke:"black",style:oe,markerStart:"url(#arrow)"}),n.a.createElement(te,{x:-5,y:-25,latexstring:"x"})),n.a.createElement("g",{transform:"translate(0,".concat(a,")")},n.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",style:oe,markerEnd:"url(#arrow)"}),n.a.createElement(te,{x:t-5,y:5,latexstring:"t"})))}),pe={mask:"url(#coverMask)"},ye=function(){var e={fill:"none",stroke:i.a.A400,strokeWidth:"2px"};return n.a.memo((function(t){var a=t.tScale,c=t.xScale;return n.a.createElement("g",{style:pe},R.map((function(t,n){return Object(r.createElement)("path",{style:e,key:n,d:q()(t.map((function(e){var t=ce(e,2),r=t[0],n=t[1];return{x:a(r),y:c(n)}})),.2).reduce((function(e,t){return e+t.x+","+t.y+" "}),"M")})})))}))}(),Ee=(le=re({},ie={strokeWidth:"2px",stroke:b,fill:"none",strokeDasharray:"3,4",strokeLinecap:"round"},{stroke:x}),function(e){var t=e.xScale,a=e.width;return n.a.createElement("g",null,n.a.createElement("g",{transform:"translate(0,".concat(t(30),")")},n.a.createElement(te,{latexstring:"x_a",x:-22,y:-10}),Object(r.createElement)("path",re({},le,{d:"M0,0L".concat(a,",0")}))),n.a.createElement("g",{transform:"translate(0,".concat(t(500),")")},n.a.createElement(te,{latexstring:"x_d",x:-22,y:-10}),Object(r.createElement)("path",re({},ie,{d:"M0,0L".concat(a,",0")}))))}),xe=n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),be=function(e){var t=e.width,a=e.height,c=ge({width:t,height:a});t=t-me-fe,a=a-ue-se;var o=Object(r.useContext)(G).state,i=V([a,0],[0,550],[a]),l=V([0,t],[0,105],[t]);return n.a.createElement("svg",{className:c.svg},xe,n.a.createElement("g",{transform:de},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{height:a,width:t,fill:"white",stroke:"none"})),n.a.createElement("mask",{id:"coverMask"},n.a.createElement("rect",{width:l(o.time),height:a,fill:"white"})),n.a.createElement("g",{style:{mask:"url(#myMask)"}},n.a.createElement(ye,{tScale:l,xScale:i}),n.a.createElement("g",{transform:"translate(".concat(l(o.time),",").concat(a,") rotate(-90)")},n.a.createElement(U,{height:30,width:a}))),z.dots.map((function(e,t){return n.a.createElement("circle",{key:t,cx:l(e[0]),cy:i(e[1]),r:"5"})})),z.lines.map((function(e,t){return n.a.createElement("line",{key:t,x1:l(e[0][0]),y1:i(e[0][1]),x2:l(e[1][0]),y2:i(e[1][1]),className:c.interface})})),n.a.createElement(Ee,{xScale:i,width:t}),n.a.createElement(he,{width:t,height:a})))},ge=Object(s.a)(Object(J.a)({svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:i.a[300],strokeWidth:"2px"},interface:{strokeWidth:"3px",stroke:l.a[500]},hidden:{fill:"white",opacity:0},marker:{fill:i.a.A700}})),ve=n.a.memo((function(){return n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))})),ke=20,Oe=20,je=20,we=10,Se="translate(".concat(je,",").concat(ke,")"),Ae=function(){var e={strokeWidth:"2px",color:o.a[800]};return function(t){var a=t.width,r=t.height;return n.a.createElement(n.a.Fragment,null,n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(r),fill:"none",stroke:"black",style:e,markerStart:"url(#arrow)"}),n.a.createElement(te,{x:-10,y:-25,latexstring:"veh"})),n.a.createElement("g",{transform:"translate(0,".concat(r,")")},n.a.createElement("path",{d:"M0,0L".concat(a,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",style:e}),n.a.createElement(te,{x:a-5,y:5,latexstring:"t"})))}}(),Me=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(G).state,o=Te({width:t,height:a});t=t-je-we;var i=V([a=a-ke-Oe,0],[0,1.25*.68*105],[a]),l=V([0,t],[0,105],[t]),s=Object(r.useMemo)((function(){return"M"+C.map((function(e){return[l(e.t),i(e.d)]}))}),[t,a]),u=Object(r.useMemo)((function(){return"M"+C.map((function(e){return[l(e.t),i(e.a)]}))}),[t,a]);return n.a.createElement("svg",{className:o.svg},n.a.createElement(ve,null),n.a.createElement("g",{transform:Se},n.a.createElement("mask",{id:"coverMask-cum"},n.a.createElement("rect",{width:l(c.time),height:a,fill:"white"})),n.a.createElement("g",{mask:"url(#coverMask-cum)"},n.a.createElement("path",{className:o.aPath,d:u}),n.a.createElement("path",{className:o.dPath,d:s})),n.a.createElement(Ae,{width:t,height:a})))},Te=Object(s.a)({dot:{fill:l.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:i.a.A700,opacity:.8},aPath:{stroke:x,fill:"none",strokeWidth:2},dPath:{stroke:b,fill:"none",strokeWidth:2},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:i.a.A400,strokeDasharray:"2,2"},svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:o.a[300]},text:{textAlign:"center",fontSize:"10px"}}),Pe=a(401),Ne=a(5),Le=a(267);function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Re,_e,De,Ie=Object(Ne.a)((function(){return{root:{color:l.a.A400,marginBottom:"5px"}}}))(Pe.a),We={},ze=function(){var e=Object(r.useContext)(G),t=e.state,a=e.dispatch,c=t.play,o=Ye(We);return h((function(e){a({type:"TICK",payload:e*=6})}),c),t.time>105&&a({type:"RESET"}),n.a.createElement("div",{className:o.main},n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(be,{width:700,height:350}),n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement(f.a,{className:o.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:o.button,variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset"),n.a.createElement("div",{style:{flex:"1 1 auto",padding:"0 20px"}},n.a.createElement("div",{className:o.sliderLabel,style:{marginTop:15}},"time ",n.a.createElement($.a,{math:"t"})),n.a.createElement(Ie,{component:"div",onChange:function(e,t){return a({type:"SET_TIME",payload:t})},value:t.time,step:.525,min:0,max:105})))),n.a.createElement("div",null,n.a.createElement(Me,{width:400,height:350})))},Ke=function(){var e=Ce(Object(r.useReducer)(F,Y),2),t=e[0],a=e[1];return n.a.createElement(G.Provider,{value:{state:t,dispatch:a}},n.a.createElement(ze,null))},Ye=Object(Le.a)({sliderLabel:{fontSize:"14px",marginTop:"5px"},main:{color:o.a[800],margin:"auto",display:"flex",justifyContent:"center"},paper:{maxWidth:"500px",display:"flex",padding:"20px",flexDirection:"column",alignItems:"center"},button:{margin:"5px",width:"100px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Fe=a(173),Ge=a(46),He={width:3,height:1.2},qe=8,Be=95,Ve=75,Xe=3.4,Ue=18,Ze=21,Je=3.5,Qe=.6,$e=.75,et=a(119),tt=a(120),at=a(117),rt={},nt=Object(s.a)({road:{fill:o.a[200],stroke:"none"},svg:{display:"inline-block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:i.a[500]},xssd:{stroke:et.a.A400,strokeWidth:"2px"}}),ct=87.5,ot=Object(k.a)().range([0,700]).domain([Ve,Ve-Be]),it={green:et.a[400],red:Ge.a.A200,yellow:tt.a[700]},lt=ot(0),st=lt-ot(qe),ut=lt-ot(He.width),mt=lt-ot(He.height),ft=st/2,dt=Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:st,width:700,x:0,y:ct-ft,stroke:"none",fill:o.a[200]}),Object(r.createElement)("rect",{height:175,width:st,x:lt,y:0,stroke:"none",fill:o.a[200]})),ht=function(e){var t=e.x,a=e.y,n=e.violation;return Object(r.createElement)("rect",{width:ut,height:mt,fill:n?Ge.a.A400:i.a.A400,y:ct+a-4,x:t-ut})},pt=function(e){var t=e.color;return Object(r.createElement)("line",{x1:lt,x2:lt,y1:ct-ft,y2:ct+ft,strokeWidth:6,stroke:t})},yt=(Re=Object(r.createElement)("line",{x1:0,x2:0,y1:0,y2:ft-10,stroke:o.a[500],strokeWidth:"2px"}),_e=Object(r.createElement)("line",{x1:0,x2:0,y1:ft+11,y2:st,stroke:o.a[500],strokeWidth:"2px"}),De=n.a.createElement("foreignObject",{width:"30",height:"30",y:ft-11,x:"-7"},n.a.createElement($.a,{math:"x_0"})),function(e){var t=e.x;return n.a.createElement("g",{transform:"translate(".concat(t,",").concat(ct-ft,")")},Re,_e,De)}),Et=function(){var e=n.a.createElement("foreignObject",{width:"40",height:"50",x:"-8",y:"2"},n.a.createElement($.a,null,"x_{\\text{ssd}} "));return function(t){var a=t.x,c=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(ct+ft+3,")")},a>45&&n.a.createElement("foreignObject",{width:"40",height:"45",x:-a/2-20,y:6},n.a.createElement("div",{className:c.text},"CAN STOP")),n.a.createElement("foreignObject",{width:"40",height:"45",x:(lt-a)/2-20,y:6},n.a.createElement("div",{className:c.text},"CAN'T STOP")),e,Object(r.createElement)("line",{markerStart:"url(#arrow)",stroke:at.a[400],strokeWidth:2,x2:-a,x1:0}),Object(r.createElement)("line",{markerStart:"url(#arrow3)",markerEnd:"url(#arrow3)",stroke:o.a[400],strokeWidth:2,strokeDasharray:"2 2",x2:lt-a,x1:0}))}}(),xt=function(){var e=n.a.createElement("foreignObject",{width:"30",height:"30",x:"-8",y:"-30"},n.a.createElement($.a,null,"x_{\\text{cl}} "));return function(t){var a=t.x,c=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(ct-ft-3,")")},e,n.a.createElement("foreignObject",{width:"45",height:"45",x:lt/2-a/2-20,y:-35},n.a.createElement("div",{className:c.text},"CAN CLEAR")),n.a.createElement("foreignObject",{width:"45",height:"45",x:-a/2-20,y:-35},n.a.createElement("div",{className:c.text},"CAN'T CLEAR")),Object(r.createElement)("line",{markerEnd:"url(#arrow2)",markerStart:"url(#arrow2)",stroke:p.a.A400,strokeWidth:2,x2:0,x1:lt-a}),Object(r.createElement)("line",{markerEnd:"url(#arrow3)",stroke:o.a[400],strokeWidth:2,strokeDasharray:"2,2",x2:0,x1:-a}))}}(),bt=function(e){var t=e.mover,a=e.stopper,r=e.x0,c=e.lightColor,i=e.xssd,l=e.xcl,s=nt(rt);return n.a.createElement("svg",{width:700,height:175,className:s.svg},n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:at.a[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow2",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:p.a.A400},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow3",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:o.a[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),n.a.createElement("g",null,dt,n.a.createElement(yt,{x:ot(r),classes:s}),n.a.createElement(Et,{x:ot(i),classes:s}),n.a.createElement(xt,{x:ot(l),classes:s}),n.a.createElement(pt,{color:it[c],classes:s}),n.a.createElement(ht,{x:ot(t.x),y:-15,violation:t.x<-1&&r>l}),n.a.createElement(ht,{x:ot(a.x),y:15,violation:a.x<-1})))},gt=a(2),vt=a(108),kt=a(11);function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var St={play:!1,v0:Ue,x0:.75*Ve,stopper:{x:Ve,v:Ue},mover:{x:Ve,v:Ue},time:0,useState:2,yellow:2.5},At=function(e,t,a,r){var n=e.x,c=e.v,o=t.payload,i=o.xssd,l=o.dt;return n<Math.min(i,r)-a*$e?{v:Math.max(c-Xe*l,0),x:Math.min(n-c*l+.5*Xe*l*l,n)}:{v:c,x:n-c*l}},Mt=function(e,t){switch(t.type){case"TICK":var a=t.payload.dt,r=e.mover,n=e.stopper,c=e.v0,o=e.x0;return jt({},e,{time:e.time+a,mover:{v:r.v,x:r.x-r.v*a},stopper:At(n,t,c,o)});case"SET_X0":return jt({},e,{x0:t.payload});case"SET_PLAY":return jt({},e,{play:t.payload});case"SET_YELLOW":return jt({},e,{yellow:t.payload});case"SET_V0":return jt({},e,{v0:t.payload});case"RESTART":return jt({},e,{mover:{v:e.v0,x:Ve},time:0,stopper:{v:e.v0,x:Ve}});case"DRAG":return jt({},e,{v0:t.payload.v0,x0:t.payload.x0});case"RESET":return jt({},e,{play:!1,time:0,mover:{v:e.v0,x:Ve},stopper:{v:e.v0,x:Ve}});default:return e}},Tt=n.a.createContext({state:St,dispatch:null}),Pt=Object(kt.a)((function(e){return e*$e+e*e/2/Xe})),Nt=Object(kt.a)((function(e,t){return-He.width+e*t})),Lt=a(179),Ct=10,Rt=40,_t=40,Dt=10,It=Object(s.a)({svg:{width:400+_t+Dt,height:800/3+Ct+Rt,"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},dot:{stroke:"white",strokeWidth:3,fill:l.a[500],cursor:"pointer"},xssd:{fill:"none",strokeWidth:2,stroke:at.a.A400},xcl:{fill:"none",strokeWidth:2,stroke:p.a.A400},hidden:{fill:"white",opacity:0}}),Wt=Object(k.a)().domain([0,Ve]).range([800/3,0]),zt=Object(k.a)().domain([0,Ze]).range([0,400]),Kt=Object(vt.b)(Wt),Yt=Object(vt.a)(zt),Ft=Object(kt.a)((function(e,t){return"translate(".concat(e,",").concat(t,")")})),Gt=Array.apply(null,{length:50}).map((function(e,t){return t})),Ht="M"+Gt.map((function(e){return[zt(e),Wt($e*e+e*e/2/Xe)]})).join("L"),qt=Object(kt.a)((function(e){return"M"+Gt.map((function(t){return[zt(t),Wt(-He.width+t*e)]})).join("L")})),Bt=function(){var e=It({}),t=Object(r.useRef)(),a=Object(r.useRef)(),c=(Object(r.useRef)(),Object(r.useRef)()),o=Object(r.useContext)(Tt),i=o.state,l=o.dispatch,s=i.v0,u=i.x0,m=Object(r.useRef)(l);return Object(r.useLayoutEffect)((function(){Object(gt.f)(t.current).call(Kt),Object(gt.f)(a.current).call(Yt);var e=Object(Lt.a)().on("drag",(function(){m.current({type:"DRAG",payload:{x0:Wt.invert(gt.b.y),v0:zt.invert(gt.b.x)}})}));Object(gt.f)(c.current).call(e)}),[]),n.a.createElement("svg",{className:e.svg},n.a.createElement("g",{transform:Ft(_t,Ct)},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:400,height:800/3,fill:"white"})),n.a.createElement("rect",{className:e.hidden,width:400,height:800/3}),n.a.createElement("g",{ref:t}),n.a.createElement("g",{ref:a,transform:Ft(0,800/3)}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(10,",",0,")")},n.a.createElement("span",{className:e.math},n.a.createElement($.a,{math:"x \\; \\text{(m)}"}))),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(355,",").concat(800/3-20,")")},n.a.createElement("span",{className:e.math},n.a.createElement($.a,{math:"v \\; \\text{(m/s)}"}))),n.a.createElement("path",{d:Ht,className:e.xssd,mask:"url(#myMask)"}),n.a.createElement("path",{d:qt(i.yellow),className:e.xcl,mask:"url(#myMask)"}),n.a.createElement("circle",{ref:c,className:e.dot,r:"6",transform:"translate(".concat(zt(s),",").concat(Wt(u),")")})))};function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xt,Ut,Zt,Jt,Qt=Object(s.a)({main:{color:o.a[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center"},red:{fill:Ge.a.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{},visContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:"30px"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),$t=(Xt=Object(Ne.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"15px"}}}))(Pe.a),Ut=n.a.createElement(Fe.a,{variant:"body1"},n.a.createElement($.a,{math:"x_0"})," (position when light turns green → yellow)"),Zt=n.a.createElement(Fe.a,{variant:"body1"},n.a.createElement($.a,{math:"v_0"})," (speed when light changes green → yellow)"),Jt=n.a.createElement(Fe.a,{variant:"body1"},n.a.createElement($.a,{math:"t_y"})," (yellow light duration)"),function(){var e=Object(r.useContext)(Tt),t=e.state,a=e.dispatch,c=t.x0,o=t.v0,i=t.yellow;return n.a.createElement(n.a.Fragment,null,Ut,n.a.createElement(Xt,{onChange:function(e,t){return a({type:"SET_X0",payload:t})},value:c,step:.02,min:0,max:Ve}),Zt,n.a.createElement(Xt,{onChange:function(e,t){return a({type:"SET_V0",payload:t})},value:o,step:.1,min:0,max:Ze}),Jt,n.a.createElement(Xt,{onChange:function(e,t){return a({type:"SET_YELLOW",payload:t})},value:i,step:.1,min:0,max:Je}))}),ea={},ta=function(){var e=Object(r.useContext)(Tt),t=e.state,a=e.dispatch,c=t.x0,o=t.v0,i=t.stopper,l=t.mover,s=t.time,u=t.play,m=t.yellow,d=Qt(ea),p=Pt(o),y=Nt(o,m);return h((function(e){e/=Qe,l.x>Ve-Be||i.v>0?a({type:"TICK",payload:{dt:e,xssd:p}}):setTimeout((function(){a({type:"RESTART"})}),0)}),u),n.a.createElement("div",{className:d.main},n.a.createElement("div",{className:d.visContainer},n.a.createElement("div",{style:{marginBottom:"30px"}},bt({mover:l,stopper:i,xcl:y,x0:c,lightColor:s<(Ve-c)/o?"green":s-(Ve-c)/o<m?"yellow":"red",xssd:p})),n.a.createElement(Bt,null)),n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement($t,null),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(f.a,{className:d.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!u})}},u?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:d.button,variant:"contained",color:"secondary",component:"div",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement("div",null)))},aa=function(){var e=Vt(Object(r.useReducer)(Mt,St),2),t=e[0],a=e[1];return n.a.createElement(Tt.Provider,{value:{state:t,dispatch:a}},n.a.createElement(ta,null))},ra=a(389),na=120,ca=550,oa=500,ia=a(10),la=a(36),sa=a.n(la);function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(a,!0).forEach((function(t){fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ha,pa={play:!1,x:0,v:20,v0:20,time:0,R:90,"Δ":60,Ms:8,braking:!1,flowCount:0};!function(e){e.TICK="TICK",e.SET_V0="SET_V0",e.SET_R="SET_R",e.SET_PLAY="SET_PLAY",e.RESET="RESET",e.RESTART="RESTART",e["SET_Δ"]="SET_Δ",e.SET_X="SET_X",e.SET_MS="SET_MS"}(ha||(ha={}));var ya=Object(ia.a)([sa()("Δ")],(function(e){return e/180*Math.PI/2})),Ea=(Object(ia.a)([sa()("R"),ya],(function(e,t){return 2*e*Math.sin(t)})),Object(ia.a)([function(e,t){return t.width}],(function(e){return Object(k.a)().domain([0,na]).range([0,e])}))),xa=Object(ia.a)([Ea,function(e,t){return t.height}],(function(e,t){return function(a){return t-e(a+84)}})),ba=Object(ia.a)([ya,sa()("R")],(function(e,t){var a=2*t*Math.sin(e),r=(na-a)/2,n=Math.tan(e)*r,c=[60,n-Math.cos(e)*t];return{yKink:n,a:[0,0],b:[r,n],c:[r+a,n],d:[na,0],r:t,center:c,side:r,pvi:[60,60*Math.tan(e)],centerArc:[60,c[1]+t]}})),ga=Object(ia.a)([ba,Ea,xa],(function(e,t,a){var r=e.a,n=e.b,c=e.c,o=e.d,i=e.r,l=e.center,s=e.pvi,u=e.centerArc,m=function(e){var r=da(e,2),n=r[0],c=r[1];return[t(n),a(c)]};return{a:m(r),b:m(n),c:m(c),d:m(o),r:t(i),center:m(l),pvi:m(s),centerArc:m(u)}})),va=Object(ia.a)([ga],(function(e){var t=e.b,a=e.c,r=e.r;return"M"+t+"A ".concat(r," ").concat(r," 0 0 1 ").concat(a[0]," ").concat(a[1])})),ka=Object(ia.a)([ga],(function(e){return"M"+e.a+"L"+e.b+"M"+e.c+"L"+e.d})),Oa=Object(ia.a)([ga],(function(e){e.a;var t=e.b,a=e.c;e.d;return"M"+t+"L"+e.center+"L"+a})),ja=Object(ia.a)([ya,ba],(function(e,t){var a=t.r;return 2*t.side/Math.cos(e)+a*e*2})),wa=Object(ia.a)(ga,(function(e){var t=e.pvi;return"M"+e.b+"L"+t+"L"+e.c})),Sa=Object(ia.a)([sa()("x"),ya,ba],(function(e,t,a){var r=a.side/Math.cos(t);if(e<r)return{loc:[e*Math.cos(t),e*Math.sin(t)],rotate:-t};var n=a.r*t*2;if(e-r<n){var c=(e-r)/a.r-t;return{loc:[a.center[0]+a.r*Math.sin(c),a.center[1]+a.r*Math.cos(c)],rotate:c}}return{loc:[na-(e=2*r+n-e)*Math.cos(t),e*Math.sin(t)],rotate:t}})),Aa=Object(ia.a)([Sa,Ea,xa],(function(e,t,a){var r=da(e.loc,2),n=r[0],c=r[1],o=e.rotate;return{loc:[t(n),a(c)],rotate:o/Math.PI*180}})),Ma=Object(ia.a)([sa()("Ms"),ba],(function(e,t){var a=da(t.center,2),r=a[0],n=a[1],c=t.r,o=Math.acos((c-e)/c);return{loc:[r+c*Math.sin(o),n+c-e],rotate:o}})),Ta=Object(ia.a)([Ma,Ea,xa],(function(e,t,a){var r=da(e.loc,2),n=r[0],c=r[1],o=e.rotate;return{loc:[t(n),a(c)],rotate:o/Math.PI*180}})),Pa=Object(ia.a)([sa()("Ms"),ba],(function(e,t){var a=da(t.center,2),r=a[0],n=a[1],c=t.r,o=t.centerArc,i=c*Math.sin(Math.acos((c-e)/c));return{chordStart:[r-i,c-e+n],chordEnd:[r+i,c-e+n],block:[r,c-e+n],centerArc:o}})),Na=Object(ia.a)([Pa,Ea,xa],(function(e,t,a){var r=e.chordStart,n=e.chordEnd,c=e.block,o=e.centerArc,i=function(e){var r=da(e,2),n=r[0],c=r[1];return[t(n),a(c)]};return{chordStart:i(r),chordEnd:i(n),block:i(c),centerArc:i(o)}})),La=Object(ia.a)([Na],(function(e){var t=e.block,a=e.centerArc;return{x:(t[0]+a[0])/2,y:(t[1]+a[1])/2}})),Ca=Object(ia.a)([Na],(function(e){var t=e.chordStart,a=e.chordEnd,r=e.block;return"M"+t+"L"+a+"M"+e.centerArc+"L"+r})),Ra=Object(ia.a)([sa()("Ms"),ba,Sa],(function(e,t,a){var r=da(t.center,2),n=r[0],c=(r[1],t.r),o=da(a.loc,2),i=o[0],l=(o[1],Math.acos((c-e)/c));return i>n-c*Math.sin(l)})),_a=function(e,t){switch(t.type){case ha.TICK:var a=Ra(e),r=t.payload;return ma({},e,{v:a?e.v-3.4*r:e.v0,x:e.x+r*e.v+(a?-r*r*3.4*.5:0),time:e.time+r,braking:a});case ha.SET_Δ:return ma({},e,{"Δ":t.payload});case ha.SET_MS:return ma({},e,{Ms:t.payload});case ha.SET_X:return ma({},e,{x:t.payload});case ha.SET_PLAY:return ma({},e,{play:t.payload});case ha.SET_V0:return ma({},e,{v0:t.payload});case ha.SET_R:return ma({},e,{R:t.payload});case ha.RESTART:return ma({},e,{time:0,x:0,v:e.v0});case ha.RESET:return ma({},e,{play:!1,time:0,x:0,v:e.v0});default:return e}},Da=n.a.createContext({state:pa,dispatch:null});function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wa=function(e){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}};function za(e){var t=Ia(Object(r.useState)(Wa(e?e.current:null)),2),a=t[0],n=t[1],c=Object(r.useCallback)((function(){return e.current&&n(Wa(e.current))}),[e]);return Object(r.useLayoutEffect)((function(){if(e.current)return c(),window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[e.current]),a}var Ka=a(123),Ya=a(122),Fa=a(116),Ga=a(4);var Ha={},qa=function(e,t,a,r){return n.a.createElement("g",{transform:"translate(".concat((t[0]+e[0])/2,", ").concat((t[1]+e[1])/2,") rotate(").concat(-r/2,")")},n.a.createElement("circle",{fill:"white",r:"12"}),n.a.createElement(te,{x:0,y:0,dx:-6,dy:-11,latexstring:"R"}))},Ba=function(e){var t=e.x,a=e.y;return n.a.createElement("g",{transform:"translate(".concat(t-8,", ").concat(a-6,")")},n.a.createElement(te,{x:0,y:0,dx:-1,dy:-3,latexstring:"M_s"}))},Va=function(){var e,t,a,c=Object(r.useContext)(Da).state,o=Xa(Ha),i=Object(r.useRef)(),l=za(i),s=ga(c,l),u=ya(c);return n.a.createElement("div",{ref:i,className:o.container},n.a.createElement("svg",{className:o.svg},n.a.createElement("circle",{r:s.r,cx:s.center[0],cy:s.center[1],className:o.circle}),n.a.createElement("path",{d:Oa(c,l),className:o.hinge}),n.a.createElement("path",{d:ka(c,l),className:o.sides}),n.a.createElement("path",{d:va(c,l),className:o.arc}),n.a.createElement("path",{d:va(c,l),className:o.arc}),n.a.createElement("path",{d:wa(c,l),className:o.tangents}),n.a.createElement("path",{d:Ca(c,l),className:o.hinge}),n.a.createElement("rect",{className:Object(Ga.a)(o.car,(e={},t=o.braking,a=c.braking,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e)),width:8,height:5,transform:"translate(".concat(Aa(c,l).loc,") rotate(").concat(Aa(c,l).rotate,") translate(").concat(-4,",").concat(-2.5,")")}),n.a.createElement(Ba,{x:La(c,l).x,y:La(c,l).y}),n.a.createElement("rect",{className:o.block,width:"20px",height:"20px",transform:"translate(".concat(Na(c,l).block,") translate(").concat(-10,",",0,")")}),n.a.createElement("rect",{className:o.car,width:8,height:5,transform:"translate(".concat(Ta(c,l).loc,") rotate(").concat(Ta(c,l).rotate,") translate(",4,",").concat(-2.5,")")}),n.a.createElement(te,{x:s.center[0],y:s.center[1],dx:-6,dy:-50,rotate:0,latexstring:"\\Delta"}),n.a.createElement(te,{x:s.pvi[0],y:s.pvi[1],dx:-12,dy:-17,rotate:0,latexstring:"\\text{PVI}"}),n.a.createElement(te,{x:s.b[0],y:s.b[1],dx:-12,dy:-22,rotate:-c.Δ/2,latexstring:"\\text{PC}"}),n.a.createElement(te,{x:s.c[0],y:s.c[1],dx:-12,dy:-22,rotate:c.Δ/2,latexstring:"\\text{PT}"}),n.a.createElement("circle",{cx:s.pvi[0],cy:s.pvi[1],r:"2",className:o.pvi}),n.a.createElement("circle",{cx:s.b[0],cy:s.b[1],r:"2",className:o.pvi}),n.a.createElement("circle",{cx:s.c[0],cy:s.c[1],r:"2",className:o.pvi}),n.a.createElement("path",{d:"M".concat(s.center[0]+30*Math.sin(-u),",").concat(s.center[1]-30*Math.cos(-u)," A ",30," ",30," 0 0 1 ").concat(s.center[0]+30*Math.sin(u)," ").concat(s.center[1]-30*Math.cos(u),"\n          "),stroke:"black",strokeWidth:"1px",fill:"none"}),qa(s.center,s.b,s.r,c.Δ),qa(s.center,s.c,s.r,-c.Δ)))},Xa=Object(s.a)({laser:{fill:"none","stroke-width":12},sides:{extend:"laser",stroke:Ka.a[700]},tangents:{stroke:Ya.a.A200,strokeWidth:"1px",fill:"none",strokeDasharray:"2,2"},pvi:{stroke:"none",fill:Ya.a.A200},arc:{extend:"laser",stroke:i.a[700]},circle:{extend:"laser",strokeWidth:"1px",stroke:et.a[500],strokeDasharray:"2,3"},hinge:{extend:"laser",stroke:l.a.A700,fill:"none",strokeWidth:"1px",strokeDasharray:"2,3"},svg:{display:"block",width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},container:{position:"relative",width:"100%",height:"100%"},tangent:{stroke:l.a.A700,strokeWidth:"2px",fill:"none"},connected:{stroke:l.a.A200,strokeDasharray:"2, 2"},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:Fa.a[200],stroke:"white",rx:1.5,ry:1.5},braking:{fill:Ge.a.A400},block:{fill:et.a.A700}}),Ua=Object(Ne.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"15px"}}}))(Pe.a),Za=function(){var e=Object(r.useContext)(Da),t=e.state,a=e.dispatch,c=Object(r.useMemo)((function(){return{"setΔ":function(e,t){return a({type:ha.SET_Δ,payload:t})},setR:function(e,t){return a({type:ha.SET_R,payload:t})},setX:function(e,t){return a({type:ha.SET_X,payload:t})},setMs:function(e,t){return a({type:ha.SET_MS,payload:t})}}}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(Fe.a,{variant:"body1"},n.a.createElement($.a,{math:"M_s"})," object distance (m)"),n.a.createElement(Ua,{onChange:c.setMs,value:t.Ms,step:.1,min:2,max:ba(t).r-ba(t).c[1]+ba(t).center[1]-2}),n.a.createElement(Fe.a,{variant:"body1"},n.a.createElement($.a,{math:"R"})," radius (m)"),n.a.createElement(Ua,{onChange:c.setR,value:t.R,step:1,min:70,max:110}))},Ja=a(12),Qa=a(106),$a=a(259),er=a(174);function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ar,rr=Object(Ja.b)({plugins:[].concat((ar=Object(Qa.a)().plugins,function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(ar)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(ar)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[Object(er.a)()])}),nr=Object(s.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:B.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",alignItems:"center"},buttons:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},red:{fill:B.a.red.A400},paper:{maxWidth:"500px",width:300,display:"flex",padding:"24px 36px",flexDirection:"column"},button:{margin:"10px"},visContainer:{margin:"10px auto",width:oa,height:ca},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),cr={},or=function(){var e,t,a,c,o=Object(r.useContext)(Da),i=o.state,l=o.dispatch,s=nr(cr);return h((function(e){e/=.75,i.x<ja(i)&&i.v>0?l({type:ha.TICK,payload:e}):l({type:ha.RESTART})}),i.play),e=function(){console.log("hello")},t=10/.75,a=i.play,(c=Object(r.useRef)(0)).current=e,Object(r.useLayoutEffect)((function(){if(a){var e=setInterval((function(){c.current&&c.current()}),1e3*t);return function(){return clearInterval(e)}}}),[t,a]),n.a.createElement("div",{className:s.main},n.a.createElement("div",{className:s.visContainer},n.a.createElement(Va,null)),n.a.createElement(ra.a,{className:s.paper,elevation:2},n.a.createElement(Za,null),n.a.createElement("div",{className:s.buttons},n.a.createElement(f.a,{className:s.button,variant:"contained",color:"secondary",onClick:function(){return l({type:ha.SET_PLAY,payload:!i.play})}},i.play?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:s.button,variant:"contained",color:"secondary",onClick:function(){l({type:ha.RESET})}},"Reset"))))},ir=function(){var e=tr(Object(r.useReducer)(_a,pa),2),t=e[0],a=e[1];return n.a.createElement(Da.Provider,{value:{state:t,dispatch:a}},n.a.createElement(or,null))},lr=function(){return n.a.createElement($a.b,{jss:rr},n.a.createElement(ir,null))},sr=8e4/3600,ur=(1+Math.sqrt(5))/2,mr=1*ur*2.5,fr=1/(2.5*ur),dr=fr/3,hr=sr*dr;function pr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function yr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pr(a,!0).forEach((function(t){Er(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Er(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xr(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var br,gr=fr,vr=hr/(fr-dr),kr=dr,Or=Math.min,jr=Math.max,wr=function(e){return xr(Array(e).keys())};!function(e){e.TRIANGLE="TRIANGLE",e.GREENSHIELDS="GREENSHIELDS",e.DRAKE="DRAKE"}(br||(br={}));var Sr,Ar=wr(21).map((function(e,t){return(t+1)/21*gr})),Mr={TRIANGLE:function(e){return jr(Or(22.22222222222222,vr*(gr/e-1)),0)},GREENSHIELDS:function(e){return jr(0,22.22222222222222*(1-e/gr))},DRAKE:function(e){return jr(0,22.22222222222222*Math.exp(-Math.pow(e/kr,2)/2))}},Tr=function(e){return Ar.map((function(t){return{k:t,s:1/t,v:Mr[e](t),cars:wr(Math.round(140*t)).map((function(e){return e/t}))}}))},Pr={play:!1,lanes:Tr(br.TRIANGLE),vk:br.TRIANGLE};!function(e){e.TICK="TICK",e.SET_VK="SET_VK",e.SET_PLAY="SET_PLAY"}(Sr||(Sr={}));var Nr=function(e,t){switch(t.type){case Sr.TICK:var a=t.payload;return yr({},e,{lanes:e.lanes.map((function(e){var t=e.cars.map((function(t){return t+a*e.v}));return t[0]>e.s&&t.unshift(t[0]-e.s),t[t.length-1]>140&&t.pop(),yr({},e,{cars:t})}))});case Sr.SET_VK:return yr({},e,{vk:t.payload,lanes:Tr(t.payload)});case Sr.SET_PLAY:return yr({},e,{play:t.payload});default:return e}},Lr=n.a.createContext({state:Pr,dispatch:null}),Cr=Object(k.a)().range([Ge.a.A700,et.a.A700]).domain([0,sr]),Rr=25,_r=30,Dr=20,Ir=90,Wr="translate(".concat(Dr,",").concat(Rr,")"),zr=Object(kt.a)((function(e,t,a){var n=Object(k.a)().range([t,0]).domain([0,1.2*sr]),c=Object(k.a)().range([t,0]).domain([0,137.5]),o=Object(k.a)().range([0,e]).domain([0,fr+.008]),i=t-c(2.5),l=t-c(1),s=Object(r.createElement)("path",{className:a.road,strokeWidth:t-c(mr),d:"M0,0L0,".concat(t)});return{vScale:n,xScale:c,kScale:o,carLength:i,carWidth:l,Road:s}})),Kr=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(Lr).state,o=Mr[c.vk],i=Yr({width:t+Ir+Dr,height:a+Rr+_r}),l=zr(t,a,i),s=l.vScale,u=l.xScale,m=l.kScale,f=l.carLength,d=l.carWidth,h=l.Road,p=Object(r.useMemo)((function(){return Object(r.createElement)("path",{className:i.path,d:wr(70).map((function(e,t,a){return e/(a.length-1)*fr})).reduce((function(e,t){return e+m(t)+","+s(o(t))+" "}),"M")})}),[m,s,o]);return n.a.createElement("svg",{className:i.svg},n.a.createElement("g",{transform:Wr},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:t,height:a,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask)"},c.lanes.map((function(e,t){return n.a.createElement("g",{key:e.k,transform:"translate(".concat(m(e.k),",0)")},h,e.cars.map((function(t,a){return n.a.createElement("rect",{key:a,className:i.car,y:u(t),x:-d/2,height:f,fill:Cr(o(e.k)),width:d})})))})),p),n.a.createElement("g",{id:"vaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(a),fill:"none",stroke:"black",markerEnd:"url(#arrow)",markerStart:"url(#arrow)"}),n.a.createElement(te,{x:-20,y:s(sr)-10,latexstring:"v_f"}),n.a.createElement(te,{x:-10,y:-25,latexstring:"v \\; \\text{(km/hr)}"})),n.a.createElement("g",{transform:"translate(0,".concat(a,")"),id:"kaxis"},n.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)"}),n.a.createElement(te,{x:m(c.vk===br.GREENSHIELDS?fr/2:dr)-4,y:0,latexstring:"k_0"}),n.a.createElement(te,{x:m(fr)-4,y:0,latexstring:"k_j"}),n.a.createElement(te,{x:t+10,y:-10,latexstring:"k \\; \\text{(veh/km)}"}))))},Yr=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:i.a.A700,opacity:.8},road:{stroke:o.a[300]},car:{rx:1,ry:1,stroke:"none"},svg:function(e){return{width:e.width,height:e.height,display:"block","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},text:{textAlign:"center",fontSize:"10px"}}),Fr={top:25,bottom:30,left:20,right:90},Gr="translate(".concat(Fr.left,",").concat(Fr.top,")"),Hr=Object(r.memo)((function(e){var t=e.height,a=e.width,r=e.children;return n.a.createElement("g",{transform:"translate(0,".concat(t,")")},n.a.createElement("path",{d:"M0,0L".concat(a,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)"}),r)})),qr=Object(r.memo)((function(e){var t=e.height,a=e.children;return n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(t),fill:"none",stroke:"black",markerEnd:"url(#arrow)",markerStart:"url(#arrow)"}),a)})),Br=Object(kt.a)((function(e,t){return console.log(e),{qScale:Object(k.a)().range([t,0]).domain([0,1.2*hr]),kScale:Object(k.a)().range([0,e]).domain([0,fr+.008])}}));var Vr={},Xr=function(){var e=Object(r.useContext)(Lr).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-Fr.left-Fr.right,0),height:Math.max(a-Fr.top-Fr.bottom,0)}}(za(t)),c=a.width,o=a.height,i=Mr[e.vk],l=Ur(Vr),s=Br(c,o),u=s.qScale,m=s.kScale,f=Object(r.useMemo)((function(){return wr(70).map((function(e,t,a){return e/(a.length-1)*fr})).reduce((function(e,t){return e+m(t)+","+u(t*i(t))+" "}),"M")}),[m,u,i]);return n.a.createElement("div",{ref:t,className:l.container},n.a.createElement("svg",{className:l.svg},n.a.createElement("g",{transform:Gr},n.a.createElement("mask",{id:"myMask2"},n.a.createElement("rect",{width:c,height:o,fill:"white"})),n.a.createElement("path",{mask:"url(#myMask2)",className:l.path,d:f}),n.a.createElement(qr,{height:o},n.a.createElement(te,{x:-20,y:u(hr)-10,latexstring:"q_0"}),n.a.createElement(te,{x:-10,y:-25,latexstring:"q \\; \\text{(veh/hr)}"})),n.a.createElement(Hr,{height:o,width:c},n.a.createElement(te,{x:m(e.vk===br.GREENSHIELDS?fr/2:dr)-4,y:0,latexstring:"k_0"}),n.a.createElement(te,{x:m(fr)-4,y:0,latexstring:"k_j"}),n.a.createElement(te,{x:c+10,y:-10,latexstring:"k \\; \\text{(veh/km)}"})))))},Ur=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:i.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"300px"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},text:{textAlign:"center",fontSize:"10px"}}),Zr=Object(s.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:o.a[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:Ge.a.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"20px",flexDirection:"row",alignItems:"center"},button:{margin:"5px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Jr=a(391),Qr=a(400),$r=a(390);function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tn=n.a.memo((function(e){var t=e.changeVK,a=e.vk;return n.a.createElement($r.a,{row:!0,"aria-label":"Fundamental Diagram",name:"fd",value:a,onChange:t},n.a.createElement(Jr.a,{value:br.TRIANGLE,control:n.a.createElement(Qr.a,null),label:"Triangle"}),n.a.createElement(Jr.a,{value:br.GREENSHIELDS,control:n.a.createElement(Qr.a,null),label:"Greenshields"}),n.a.createElement(Jr.a,{value:br.DRAKE,control:n.a.createElement(Qr.a,null),label:"Drake"}))})),an={},rn=600/ur,nn=function(){var e=Object(r.useContext)(Lr),t=e.state,a=e.dispatch,c=t.play,o=Zr(an);h((function(e){e/=.5,a({type:Sr.TICK,payload:Math.min(e,.05)})}),c);var i=Object(r.useCallback)((function(e){var t=e.currentTarget.value;a({type:Sr.SET_VK,payload:t})}),[]);return n.a.createElement("div",{className:o.main},n.a.createElement(ra.a,{className:o.paper,elevation:2},n.a.createElement(f.a,{className:o.button,variant:"contained",color:"secondary",onClick:function(){return a({type:Sr.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(tn,{changeVK:i,vk:t.vk})),n.a.createElement(Kr,{height:rn,width:600}),n.a.createElement(Xr,null))},cn=function(){var e=en(Object(r.useReducer)(Nr,Pr),2),t=e[0],a=e[1];return n.a.createElement(Lr.Provider,{value:{state:t,dispatch:a}},n.a.createElement(nn,null))};Math.sqrt(5);function on(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ln(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?on(a,!0).forEach((function(t){sn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):on(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var un,mn=Math.min,fn=Math.max,dn=Object(kt.a)((function(e){return fn(mn(6e4/3600,6.666666666666666*(.25/e-1)),0)})),hn=Object(kt.a)((function(e){return fn(mn(6e4/3600*e,6.666666666666666*(.25-e)),0)})),pn={play:!1,time:0,k:.25/3.5};!function(e){e.TICK="TICK",e.SET_K="SET_K",e.SET_TIME="SET_TIME",e.SET_PLAY="SET_PLAY"}(un||(un={}));var yn=Object(kt.a)((function(e){return v()(25*-hn(e),140*e).map((function(t){return{x0:t/e,t0:0,x1:t/e+25*dn(e),t1:25}}))})),En=Object(kt.a)((function(e,t){var a=t*dn(e);return yn(e).map((function(e){return e.x0+a}))})),xn=Object(kt.a)((function(e){var t=dn(e);return yn(e).map((function(e){return e.x0+3.75*t})).filter((function(e){return e>=21&&e<=119})).sort((function(e,t){return t-e}))})),bn=Object(kt.a)((function(e){var t=dn(e);return yn(e).map((function(e){return(21-e.x0)/t})).filter((function(e){return e>=3.75&&e<=22.5})).sort((function(e,t){return e-t}))})),gn=v()(0,.2525,.0025).map((function(e){return[e,hn(e)]})),vn=function(e,t){switch(t.type){case un.SET_TIME:return ln({},e,{time:t.payload});case un.TICK:return ln({},e,{time:(e.time+t.payload)%25});case un.SET_K:return ln({},e,{k:t.payload});case un.SET_PLAY:return ln({},e,{play:t.payload});default:return e}},kn=n.a.createContext({state:pn,dispatch:null}),On=a(394),jn=a(121),wn=(a(399),a(60));function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var An=n.a.memo((function(e){e.time;var t=e.xScale,a=e.tScale,c=e.t,o=e.x,i=e.className,l=(e.play,Object(r.useRef)());return Object(r.useLayoutEffect)((function(){Object(gt.f)(l.current).attr("r",0).transition().ease(wn.b).duration(320).attr("r",7).attr("stroke-width",4).transition().duration(300).ease(wn.b).attr("stroke-width",2).attr("r",4.5)}),[]),n.a.createElement("circle",{ref:l,className:i,cx:a(c),cy:t(o)})})),Mn=25,Tn=25,Pn=20,Nn=10,Ln="translate(".concat(Pn,",").concat(Mn,")"),Cn=Object(kt.a)((function(e,t){return{tScale:Object(k.a)().range([0,e]).domain([0,25]),xScale:Object(k.a)().range([t,0]).domain([0,140])}})),Rn=n.a.memo((function(e){var t=e.xScale,a=e.tScale,r=e.k,c=e.lineClass;return n.a.createElement("g",{id:"g-lines"},yn(r).map((function(e,r){var o=e.x1,i=e.x0,l=e.t1,s=e.t0;return n.a.createElement("path",{key:r,d:"M".concat(a(s),",").concat(t(i),"L").concat(a(l),",").concat(t(o)),className:c})})))})),_n={},Dn=function(){var e=Object(r.useContext)(kn).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-Pn-Nn,0),height:Math.max(a-Mn-Tn,0)}}(za(t)),c=a.width,o=a.height,i=In(_n),l=Cn(c,o),s=l.tScale,u=l.xScale,m=Sn(Object(r.useMemo)((function(){return[o-u(3),o-u(1.5)]}),[u]),2),f=m[0],d=m[1];return n.a.createElement("div",{ref:t,className:i.container},n.a.createElement("svg",{className:i.svg},n.a.createElement(ve,null),n.a.createElement("g",{transform:Ln},n.a.createElement("mask",{id:"myMask2"},n.a.createElement("rect",{width:c,height:o,fill:"white"})),n.a.createElement("mask",{id:"myMask3"},n.a.createElement("rect",{width:s(e.time),height:o,fill:"white"})),n.a.createElement("g",{id:"g-masked",mask:"url(#myMask2)"},Object(r.createElement)("path",{className:i.road,strokeWidth:o-u(5),d:"M0,0L0,".concat(o),transform:"translate(".concat(s(e.time),",0)")}),n.a.createElement("g",{className:i.maskedLines,mask:"url(#myMask3)"},Object(r.createElement)(Rn,{xScale:u,tScale:s,k:e.k,lineClass:i.line})),n.a.createElement("g",{id:"g-cut"},n.a.createElement("rect",{className:i.cut,width:s(18.75),height:o-u(98),y:u(119),x:s(3.75)}),e.time>=3.75&&xn(e.k).map((function(t,a){return n.a.createElement(An,{key:a,x:t,t:3.75,tScale:s,xScale:u,time:e.time,play:e.play,className:i.kdot})})),bn(e.k).filter((function(t){return t<=e.time})).map((function(t,a){return n.a.createElement(An,{key:a,x:21,t:t,tScale:s,xScale:u,time:e.time,play:e.play,className:i.qdot})}))),n.a.createElement("g",{id:"g-lane",transform:"translate(".concat(s(e.time),",0)")},n.a.createElement("g",{id:"g-cars"},En(e.k,e.time).map((function(e,t){return n.a.createElement("rect",{key:t,className:i.car,y:u(e)+f/6,x:-d/2,height:f,width:d})}))))),n.a.createElement("g",{id:"vaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(o),fill:"none",stroke:"black",className:i.axis,markerStart:"url(#arrow)"}),n.a.createElement(te,{x:-10,y:-25,latexstring:"x \\; \\text{(m)}"})),n.a.createElement("g",{transform:"translate(0,".concat(o,")"),id:"taxis"},n.a.createElement("path",{d:"M0,0L".concat(c,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:i.axis}),n.a.createElement(te,{x:c-15,y:5,latexstring:"t \\; \\text{(s)}"})))))},In=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:i.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:i.a.A400,strokeDasharray:"1,1"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:o.a[700],strokeWidth:"2px",rx:2,ry:2,fill:jn.a.A400,fillOpacity:.15},car:{fill:Fa.a.A200},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:o.a[300]},axis:{strokeWidth:"2px",color:o.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:et.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zn=20,Kn=20,Yn=20,Fn=10,Gn="translate(".concat(Yn,",").concat(zn,")"),Hn={},qn=function(){var e=Object(r.useContext)(kn).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-Yn-Fn,0),height:Math.max(a-zn-Kn,0)}}(za(t)),c=a.width,o=a.height,i=Bn(Hn),l=V([0,c],[0,.275],[c]),s=V([o,0],[0,1.4285714285714286],[o]),u=Object(r.useMemo)((function(){var e="M"+gn.map((function(e){var t=Wn(e,2),a=t[0],r=t[1];return[l(a),s(r)]})).join("L");return n.a.createElement("path",{className:i.path,d:e})}),[c,o]);return n.a.createElement("div",{ref:t,className:i.container},n.a.createElement("svg",{className:i.svg},n.a.createElement(ve,null),n.a.createElement("g",{transform:Gn},n.a.createElement("mask",{id:"myMask4"},n.a.createElement("rect",{width:c,height:o,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask4)"},u,n.a.createElement("circle",{cx:l(e.k),cy:s(hn(e.k)),className:i.dot,r:6})),n.a.createElement("g",{id:"g-qaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(o),fill:"none",stroke:"black",className:i.axis,markerStart:"url(#arrow)"}),n.a.createElement(te,{y:s(1.1904761904761905)-12,x:-15,latexstring:"q_0"}),n.a.createElement(te,{x:-10,y:-25,latexstring:"q \\; \\text{veh/s}"})),n.a.createElement("g",{transform:"translate(0,".concat(o,")"),id:"g-kaxis"},n.a.createElement("path",{d:"M0,0L".concat(c,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:i.axis}),n.a.createElement(te,{x:l(.25/3.5),y:0,latexstring:"k_0"}),n.a.createElement(te,{x:c-70,y:5,latexstring:"k \\; \\text{(veh/100 m)}"})))))},Bn=Object(s.a)({dot:{fill:l.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:i.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:i.a.A400,strokeDasharray:"2,2"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:o.a[700],strokeWidth:"2px",fill:et.a.A200,fillOpacity:.2},car:{fill:Fa.a.A400},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:o.a[300]},axis:{strokeWidth:"2px",color:o.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:Ya.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xn=Object(Ne.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"5px"}}}))(Pe.a),Un=function(){var e=Object(r.useContext)(kn),t=e.state,a=e.dispatch,c=t.play,o=$n(Zn);return h((function(e){e/=.25,a({type:un.TICK,payload:e})}),c),n.a.createElement(ra.a,{elevation:2,className:o.paper},n.a.createElement(f.a,{component:"div",className:o.button,variant:"contained",color:"secondary",onClick:function(){return a({type:un.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement("div",{className:o.sliderLabel,style:{marginTop:15}},"density ",n.a.createElement($.a,{math:"k \\; \\text{(veh/km)}"})),n.a.createElement(Xn,{component:"div",onChange:function(e,t){return a({type:un.SET_K,payload:t})},value:t.k,step:.25/300,min:0,max:.25}),n.a.createElement("div",{className:o.sliderLabel},"time ",n.a.createElement($.a,{math:"t \\; (s)"})),n.a.createElement(Xn,{component:"div",onChange:function(e,t){return a({type:un.SET_TIME,payload:t})},value:t.time,step:25/300,min:0,max:25}))},Zn={},Jn=function(){var e=$n(Zn);return n.a.createElement(On.a,{direction:"column",container:!0,className:e.main,alignItems:"stretch",spacing:3},n.a.createElement(On.a,{item:!0,className:e.spaceTimeContainer},n.a.createElement(Dn,null)),n.a.createElement(On.a,{item:!0,className:e.qkContainer},n.a.createElement(qn,null)),n.a.createElement(On.a,{item:!0},n.a.createElement(Un,null)))},Qn=function(){var e=Vn(Object(r.useReducer)(vn,pn),2),t=e[0],a=e[1];return n.a.createElement(kn.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Jn,null))},$n=Object(s.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif",color:o.a[800]},".katex":{fontSize:"1em"}},qkContainer:{height:"250px"},spaceTimeContainer:{height:"450px"},main:{maxWidth:"700px",margin:"0 auto"},sliderLabel:{fontSize:"14px",marginTop:"5px"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"10px 30px"},button:{margin:"5px"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),ec=[["Dilemma Zones","dilemma-zone"],["Construction Zone","construction-zone"],["Three Fundamental Diagrams","fundamental-diagrams"],["Horizontal Curves","horizontal"],["Flow and Density","flow-and-density"]],tc=function(){return n.a.createElement("div",{style:{maxWidth:"700px",margin:"0 auto"}},n.a.createElement("div",null,"Welcome to the homepage for the course"," ",n.a.createElement("em",null,"CEE 310: Transportation Engineering")," at University of Illinois at Urbana-Champaign. This site links to interactive visualizations that help students understand key concepts from the course. This semester (Fall 2020) is the first time we're incorporating the visualizations, so it's a rough draft."),n.a.createElement("div",null,n.a.createElement("ul",null,ec.map((function(e){return n.a.createElement(u.b,{to:e[1],key:e[1]},n.a.createElement("li",null,e[0]))})))))},ac=function(){return n.a.createElement("div",null,n.a.createElement("div",null,"About page"),n.a.createElement("div",null,"going to fill this in later"))},rc={paddingRight:"15px"},nc=Object(s.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif",color:o.a[800],fontSize:"18px"}},title:{backgroundColor:i.a.A700,color:"white",width:"100%",height:"70px",display:"flex",fontFamily:"Helvetica",boxShadow:" 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",marginBottom:"15px",alignItems:"center",padding:"5px 30px",fontSize:"22px",boxSizing:"border-box","& a":{color:"white",textDecoration:"none"},"& a:hover":{color:l.a[100],cursor:"pointer"}},main:{color:o.a[800],lineHeight:"1.5em",margin:"0 auto",marginTop:"50px",display:"flex",justifyContent:"center",flexDirection:"column"}}),cc=a(169),oc=a(103),ic=a(177),lc=a.n(ic),sc=a(178),uc=a.n(sc),mc=document.getElementById("root");if(!mc)throw Error("no root container");var fc=Object(oc.a)({palette:{primary:{main:lc.a[500]},secondary:{main:uc.a[500]}}});Object(c.render)(n.a.createElement(cc.a,{theme:fc},n.a.createElement((function(){var e=nc({});return n.a.createElement(u.a,null,n.a.createElement("div",{className:e.title},n.a.createElement(u.b,{to:"/"},"CEE 310: Transportation Engineering"),n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement("div",{style:rc},n.a.createElement(u.b,{to:"/"},"home")),n.a.createElement("div",null,n.a.createElement(u.b,{to:"/about"},"about"))),n.a.createElement("div",{className:e.main},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/about",component:ac}),n.a.createElement(m.a,{path:"/construction-zone",component:Ke}),n.a.createElement(m.a,{path:"/dilemma-zone",component:aa}),n.a.createElement(m.a,{path:"/horizontal",component:lr}),n.a.createElement(m.a,{path:"/fundamental-diagrams",component:cn}),n.a.createElement(m.a,{path:"/flow-and-density",component:Qn}),n.a.createElement(m.a,{path:"/",component:tc}))))}),null)),mc)}},[[398,1,2]]]);