(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a.p+"136743c2387ef9e6b3f9dae5072ad3eb.jpg"},200:function(e,t,a){e.exports=a.p+"7505c8a9778fbd6cc6ffa5f29b707cd8.jpeg"},201:function(e,t,a){e.exports=a.p+"a08d501bf924d9164fe557de78ebc9b9.png"},439:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),i=a(61),o=a(139),l=a(60),s=a(211),u=a(66),m=a(42),f=a(308),d=a(39),h=function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)((function(){if(t){var e=0,r=Object(d.c)((function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)}));return function(){return r.stop()}}}),[t])},p=a(136),y=a(58),E=1.25,g=.11,x=1/g,v=E/(1e5/3600),b=E/(g-v),k=.6*v,w=g,O=1/w,j=k*(6e4/3600),S=j/(w-k),A=[14.85,49.85],T=.68*E,M=p.a.A400,C=y.a.A400,N=a(33),P=a.n(N),L=a(640);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var W,z,K,Y,F,H,q,V,U,G,B,X,J,Z,Q,$,ee=(W=x,z=b,function(e){return Math.max(Math.min(1e5/3600,(e/W-1)*z),0)}),te=(K=O,Y=S,function(e){return Math.max(Math.min(6e4/3600,(e/K-1)*Y),0)}),ae=(F=R(A,2),H=F[0],q=F[1],function(e){return e>=H&&e<=q}),re=[{t:0,a:0,d:0}],ne=function(){for(var e=1e5/3600/T,t=105/T,a=P()(0,t).map((function(t){return 550-t*e})),r=a.map((function(e){return[[0,e]]})),n=function(e){var t=ae(e),n=D({},re[re.length-1],{t:e});a=a.map((function(e,a,r){var c=function(e,t,a){var r=e[t],n=0===t?1/0:e[t-1];return!a||r<=470?r+.15*ee(n-r):r+.15*te(n-r)}(r,a,t);return e<30&&c>30&&n.a++,e<500&&c>500&&n.d++,c}));for(var c=0;c<r.length;c++)r[c].push([e,a[c]]);re.push(n)},c=0;c<105;c+=.15)n(c);return r}(),ce=[{k:T/(1e5/3600),q:T,points:[[0,0],[0,550],Z=[(V=[A[0]+.15,470])[0],550],V,J=[V[0]+(X=35*(B=-(T-j)/(T/(1e5/3600)-(G=g-j/b)))/(b-B)+35)+1,470-X*B],$=[J[0]+(550-J[0])/(1e5/3600),550],[105,550],[105,0],[0,0]]},{k:G,q:j,points:[V,U=[A[1],470],J,V]},{k:v,q:E,points:[U,J,$,Q=[U[0],550],U]},{k:k,q:j,points:[V,U,Q,Z]}],ie=(ne.map((function(e,t){return Object(L.a)().domain(e.map((function(e){return e[0]}))).range(e.map((function(e){return e[1]})))})),ne.map((function(e,t){return function(t,a){var r=e[t][1];return r+((e[t+1]?e[t+1][1]:e[t][1])-r)*a}}))),oe={play:!0,time:0,trafficState:[0,0],showState:!1},le=function(e,t){switch(t.type){case"SET_TIME":return D({},e,{time:t.payload});case"TICK":return D({},e,{time:e.time+t.payload});case"SET_PLAY":return D({},e,{play:t.payload});case"HIGHLIGHT":return D({},e,{showState:!0,trafficState:t.payload});case"HIDE":return D({},e,{showState:!1});case"RESET":return D({},e,{time:0});default:return e}},se=n.a.createContext({state:oe,dispatch:null}),ue=(a(56),a(192)),me=a.n(ue),fe=a(38),de=function(e,t,a){return Object(r.useMemo)((function(){return Object(L.a)().domain(t).range(e)}),a)};function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var pe=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(se).state,i=ye({width:t,height:a}),o=de([0,t],[0,550],[t]),l=de([a,0],[0,20],[a]),s=he(Object(r.useMemo)((function(){return[o(470),a-l(10),o(5),a-l(2)]}),[o,l]),4),u=(s[0],s[1]),m=s[2],f=s[3],d=he(Object(r.useMemo)((function(){return["M0,0L".concat(t,",0")]}),[t]),1)[0],h=c.time/.15,p=ne.map((function(e,t){var a=Math.floor(h),r=h-a;return[t,ie[t](a,r)]}));return n.a.createElement("g",null,n.a.createElement("path",{className:i.road,d:d,style:{strokeWidth:u}}),ae(c.time)&&n.a.createElement("path",{className:i.cZone,d:"M".concat(o(470),",0L").concat(o(550),",0"),strokeWidth:u}),n.a.createElement("g",null,p.map((function(e,t){return n.a.createElement("rect",{key:e[0],className:i.car,transform:"translate(".concat(o(e[1])-m,",").concat(-f/2,")"),height:f,width:m})}))))},ye=Object(s.a)({road:{stroke:fe.a.grey[300]},car:{fill:fe.a.purple.A400,rx:1,ry:1},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},cZone:{stroke:fe.a.amber.A400}}),Ee=a(639),ge=a(140),xe=a(9),ve=a.n(xe),be={fontSize:"12px"},ke=n.a.memo((function(e){var t=e.x,a=e.y,r=e.dx,c=void 0===r?0:r,i=e.dy,o=void 0===i?0:i,l=e.rotate,s=void 0===l?0:l,u=e.latexstring,m=void 0===u?"":u;return n.a.createElement("foreignObject",{width:"80",height:"75",transform:"translate(".concat(t,", ").concat(a,") rotate(").concat(s,") translate(").concat(c,",").concat(o,")")},n.a.createElement("span",{style:be},n.a.createElement(ve.a,{math:m})))}));function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(a,!0).forEach((function(t){je(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ae,Te,Me,Ce,Ne,Pe=20,Le=25,_e=25,De=10,Ie="translate(".concat(_e,",").concat(Pe,")"),Re=(Ae={strokeWidth:"2px",color:i.a[800]},function(e){var t=e.width,a=e.height;return n.a.createElement(n.a.Fragment,null,n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(a),fill:"none",stroke:"black",style:Ae,markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:-5,y:-25,latexstring:"x"})),n.a.createElement("g",{transform:"translate(0,".concat(a,")")},n.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",style:Ae,markerEnd:"url(#arrow)"}),n.a.createElement(ke,{x:t-5,y:5,latexstring:"t"})))}),We={mask:"url(#coverMask)"},ze=function(){var e={fill:"none",stroke:o.a.A400,strokeWidth:"2px",pointerEvents:"none"};return n.a.memo((function(t){var a=t.tScale,c=t.xScale;return n.a.createElement("g",{style:We},ne.map((function(t,n){return Object(r.createElement)("path",{style:e,key:n,d:me()(t.map((function(e){var t=Se(e,2),r=t[0],n=t[1];return{x:a(r),y:c(n)}})),.2).reduce((function(e,t){return e+t.x+","+t.y+" "}),"M")})})))}))}(),Ke=(Me=Oe({},Te={strokeWidth:"2px",stroke:C,fill:"none",strokeDasharray:"3,4",strokeLinecap:"round"},{stroke:M}),Ce=Oe({},Te,{stroke:ge.a.A700}),Ne=Oe({},Te,{stroke:i.a[500]}),n.a.memo((function(e){var t=e.xScale,a=e.tScale,c=e.width,i=e.height;return n.a.createElement("g",null,n.a.createElement("g",{transform:"translate(0,".concat(t(30),")")},n.a.createElement(ke,{latexstring:"x_a",x:-22,y:-10}),Object(r.createElement)("path",Oe({},Me,{d:"M0,0L".concat(c,",0")}))),n.a.createElement("g",{transform:"translate(0,".concat(t(500),")")},n.a.createElement(ke,{latexstring:"x_d",x:-22,y:-10}),Object(r.createElement)("path",Oe({},Te,{d:"M0,0L".concat(c,",0")}))),n.a.createElement("g",{transform:"translate(0,".concat(t(470),")")},n.a.createElement(ke,{latexstring:"x_{cz}",x:-22,y:-10}),Object(r.createElement)("path",Oe({},Ce,{d:"M0,0L".concat(c,",0")}))),n.a.createElement("g",{transform:"translate(".concat(a(14.85),",").concat(i,")")},n.a.createElement(ke,{latexstring:"t_0",x:-2,y:0}),Object(r.createElement)("path",Oe({},Ne,{d:"M0,0L".concat(0,",",-i)}))),n.a.createElement("g",{transform:"translate(".concat(a(A[1]),",").concat(i,")")},n.a.createElement(ke,{latexstring:"t_1",x:-2,y:0}),Object(r.createElement)("path",Oe({},Ne,{d:"M0,0L".concat(0,",",-i)}))))}))),Ye=n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),Fe=function(e){var t=e.width,a=e.height,c=He({width:t,height:a});t=t-_e-De,a=a-Le-Pe;var i=Object(r.useContext)(se),o=i.state,l=i.dispatch,s=de([a,0],[0,550],[a]),u=de([0,t],[0,105],[t]),m=Object(r.useMemo)((function(){return n.a.createElement("g",{mask:"url(#coverMask)"},ce.map((function(e){return n.a.createElement("path",{className:c.trafficState,key:e.k,onMouseOver:function(){l({type:"HIGHLIGHT",payload:[e.k,e.q]})},onMouseOut:function(){l({type:"HIDE"})},d:e.points.reduce((function(e,t){return e+u(t[0])+","+s(t[1])+" "}),"M")+"Z"})})))}),[t,a]);return n.a.createElement("svg",{className:c.svg},Ye,n.a.createElement("g",{transform:Ie},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{height:a,width:t,fill:"white",stroke:"none"})),m,n.a.createElement("g",{style:{mask:"url(#myMask)"}},n.a.createElement(ze,{tScale:u,xScale:s}),n.a.createElement("rect",{x:u(o.time),width:t-u(o.time),height:a,fill:"white"}),n.a.createElement("g",{transform:"translate(".concat(u(o.time),",").concat(a,") rotate(-90)")},n.a.createElement(pe,{height:30,width:a}))),n.a.createElement(Ke,{xScale:s,width:t,tScale:u,height:a}),n.a.createElement(Re,{width:t,height:a})))},He=Object(s.a)(Object(Ee.a)({svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},trafficState:{fill:l.a[200],opacity:0,"&:hover":{opacity:.2}},hidden:{fill:"white",opacity:0},marker:{fill:o.a.A700}})),qe=a(443),Ve=n.a.memo((function(){return n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))})),Ue=20,Ge=20,Be=20,Xe=10,Je="translate(".concat(Be,",").concat(Ue,")"),Ze=Object(qe.a)({rect:{rx:1,ry:1,stroke:"none"},root:{fontSize:"15px"}})((function(e){var t=e.classes;return n.a.createElement("g",{transform:"translate(".concat(12,",",5,")")},n.a.createElement("g",{transform:"translate(0,5)"},n.a.createElement("rect",{className:t.rect,width:10,height:2,style:{fill:C}}),n.a.createElement("text",{x:15,y:4,className:t.root},"cumulative departures")),n.a.createElement("g",{transform:"translate(0,25)"},n.a.createElement("rect",{className:t.rect,width:10,height:2,style:{fill:M}}),n.a.createElement("text",{x:15,y:4,className:t.root},"cumulative arrivals")))})),Qe=function(){var e={strokeWidth:"2px",color:i.a[800]};return function(t){var a=t.width,r=t.height;return n.a.createElement(n.a.Fragment,null,n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(r),fill:"none",stroke:"black",style:e,markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"veh"})),n.a.createElement("g",{transform:"translate(0,".concat(r,")")},n.a.createElement("path",{d:"M0,0L".concat(a,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",style:e}),n.a.createElement(ke,{x:a-5,y:5,latexstring:"t"})))}}(),$e=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(se).state,i=et({width:t,height:a});t=t-Be-Xe;var o=de([a=a-Ue-Ge,0],[0,105*T],[a]),l=de([0,t],[0,105],[t]),s=Object(r.useMemo)((function(){return"M"+re.map((function(e){return[l(e.t),o(e.d)]}))}),[t,a]),u=Object(r.useMemo)((function(){return"M"+re.map((function(e){return[l(e.t),o(e.a)]}))}),[t,a]);return n.a.createElement("svg",{className:i.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:Je},n.a.createElement("mask",{id:"coverMask-cum"},n.a.createElement("rect",{width:l(c.time),height:a,fill:"white"})),n.a.createElement(Ze,null),n.a.createElement("g",{mask:"url(#coverMask-cum)"},n.a.createElement("path",{className:i.aPath,d:u}),n.a.createElement("path",{className:i.dPath,d:s})),n.a.createElement(Qe,{width:t,height:a})))},et=Object(s.a)({dot:{fill:l.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},aPath:{stroke:M,fill:"none",strokeWidth:2},dPath:{stroke:C,fill:"none",strokeWidth:2},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"2,2"},svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}}},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300]},text:{textAlign:"center",fontSize:"10px"}}),tt=a(442),at=a(5),rt=a(309),nt=a(306),ct=a(303),it=a(304),ot=a(307),lt=a(142),st=a(137),ut=a(143);function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft=20,dt=20,ht=20,pt=10,yt=Object(qe.a)({rect:{rx:1,ry:1,stroke:"none"},root:{fontSize:"15px"}})((function(e){var t=e.classes,a=e.width;return n.a.createElement("g",{transform:"translate(".concat(a-150,",",5,")")},n.a.createElement("g",{transform:"translate(0,5)"},n.a.createElement("rect",{className:t.rect,width:10,height:2,style:{fill:o.a.A700}}),n.a.createElement("text",{x:15,y:4,className:t.root},"regular F.D.")),n.a.createElement("g",{transform:"translate(0,25)"},n.a.createElement("rect",{className:t.rect,width:10,height:2,style:{fill:lt.a.A400}}),n.a.createElement("text",{x:15,y:4,className:t.root},"construction zone F.D.")))})),Et=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(se).state,i=gt({width:t,height:a});a-=ft+dt;var l=de([0,t-=ht+pt],[0,1.1*g],[t]),s=de([a,0],[0,1.1*E],[a]),u=Object(r.useMemo)((function(){var e="M"+[[0,0],[v,E],[g,0]].map((function(e){var t=mt(e,2),a=t[0],r=t[1];return[l(a),s(r)]})).join("L");return n.a.createElement("path",{className:i.path,d:e,stroke:o.a.A700})}),[t,a]),m=Object(r.useMemo)((function(){var e="M"+[[0,0],[k,j],[w,0]].map((function(e){var t=mt(e,2),a=t[0],r=t[1];return[l(a),s(r)]})).join("L");return n.a.createElement("path",{className:i.path,d:e,stroke:lt.a.A400})}),[t,a]);return n.a.createElement("svg",{className:i.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:"translate(".concat(ht,",").concat(ft,")")},n.a.createElement("mask",{id:"myMask4"},n.a.createElement("rect",{width:t,height:a,fill:"white"})),n.a.createElement(yt,{width:t}),n.a.createElement("g",{mask:"url(#myMask4)"},u,m,c.showState&&n.a.createElement("circle",{cx:l(c.trafficState[0]),cy:s(c.trafficState[1]),className:i.dot,r:6})),n.a.createElement("g",{id:"g-qaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(a),fill:"none",stroke:"black",className:i.axis,markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:10,y:-15,latexstring:"q \\; (\\text{veh/min})"})),n.a.createElement("g",{transform:"translate(0,".concat(a,")"),id:"g-kaxis"},n.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:i.axis}),n.a.createElement(ke,{x:t-70,y:3,latexstring:"k \\; \\text{(veh/km)}"}))))},gt=Object(s.a)({dot:{fill:l.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"2px",fill:"none",opacity:.8},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"2,2"},svg:function(e){return{width:e.width,height:e.height}},cut:{stroke:i.a[700],strokeWidth:"2px",fill:ge.a.A200,fillOpacity:.2},car:{fill:st.a.A400},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300]},axis:{strokeWidth:"2px",color:i.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:ut.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vt,bt,kt,wt=Object(at.a)((function(){return{root:{color:l.a.A400,marginBottom:"5px"}}}))(tt.a),Ot={},jt=function(){var e=Object(r.useContext)(se),t=e.state,a=e.dispatch,c=t.play,i=At(Ot);h((function(e){a({type:"TICK",payload:e*=6})}),c),t.time>105&&a({type:"RESET"});var o=xt(n.a.useState(!1),2),l=o[0],s=o[1];return n.a.createElement("div",{className:i.main},n.a.createElement(ct.a,{control:n.a.createElement(it.a,{checked:l,onChange:function(){s((function(e){return!e}))}}),label:"show video"}),n.a.createElement(nt.a,{in:l},n.a.createElement(ot.a,{elevation:2},n.a.createElement("div",{style:{width:640,height:497}},n.a.createElement("iframe",{width:"640",height:"497",src:"https://www.loom.com/embed/cc20ab7d23dd48109c4d2d50c5f57ace",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})))),n.a.createElement("div",{style:{display:"flex",marginTop:"10px"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(Fe,{width:700,height:350}),n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement(f.a,{className:i.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:i.button,variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset"),n.a.createElement("div",{style:{flex:"1 1 auto",padding:"0 20px"}},n.a.createElement("div",{className:i.sliderLabel,style:{marginTop:15}},"time ",n.a.createElement(ve.a,{math:"t"})),n.a.createElement(wt,{component:"div",onChange:function(e,t){return a({type:"SET_TIME",payload:t})},value:t.time,step:.525,min:0,max:105})))),n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement("div",null,n.a.createElement($e,{width:400,height:350})),n.a.createElement("div",null,n.a.createElement(Et,{width:400,height:250})))))},St=function(){var e=xt(Object(r.useReducer)(le,oe),2),t=e[0],a=e[1];return n.a.createElement(se.Provider,{value:{state:t,dispatch:a}},n.a.createElement(jt,null))},At=Object(rt.a)({sliderLabel:{fontSize:"14px",marginTop:"5px"},main:{color:i.a[800],margin:"auto",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"-15px"},paper:{maxWidth:"500px",display:"flex",padding:"20px",flexDirection:"column",alignItems:"center"},button:{margin:"5px",width:"100px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Tt=a(195),Mt=a(59),Ct={width:3,height:1.2},Nt=8,Pt=95,Lt=75,_t=3.4,Dt=18,It=21,Rt=3.5,Wt=.6,zt=.75,Kt=a(141),Yt=a(138),Ft={},Ht=Object(s.a)({road:{fill:i.a[200],stroke:"none"},svg:{display:"inline-block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},xssd:{stroke:ge.a.A400,strokeWidth:"2px"}}),qt=87.5,Vt=Object(L.a)().range([0,700]).domain([Lt,Lt-Pt]),Ut={green:ge.a.A700,red:Mt.a.A200,yellow:Kt.a[700]},Gt=Vt(0),Bt=Gt-Vt(Nt),Xt=Gt-Vt(Ct.width),Jt=Gt-Vt(Ct.height),Zt=Bt/2,Qt=Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:Bt,width:700,x:0,y:qt-Zt,stroke:"none",fill:i.a[200]}),Object(r.createElement)("rect",{height:175,width:Bt,x:Gt,y:0,stroke:"none",fill:i.a[200]})),$t=Object(qe.a)({car:{fill:st.a.A200,rx:1,ry:1},violated:{extend:"car",fill:Mt.a.A400}})((function(e){var t=e.x,a=e.y,r=e.violation,c=e.classes;return n.a.createElement("rect",{width:Xt,height:Jt,className:r?c.violated:c.car,y:qt+a-4,x:t-Xt})})),ea=function(e){var t=e.color;return Object(r.createElement)("line",{x1:Gt,x2:Gt,y1:qt-Zt,y2:qt+Zt,strokeWidth:6,stroke:t})},ta=(vt=Object(r.createElement)("line",{x1:0,x2:0,y1:0,y2:Zt-10,stroke:i.a[500],strokeWidth:"2px",markerStart:"url(#arrow3)"}),bt=Object(r.createElement)("line",{x1:0,x2:0,y1:Zt+11,y2:Bt,stroke:i.a[500],strokeWidth:"2px",markerEnd:"url(#arrow3)"}),kt=n.a.createElement("foreignObject",{width:"30",height:"30",y:Zt-11,x:"-7"},n.a.createElement(ve.a,{math:"x_0"})),function(e){var t=e.x;return n.a.createElement("g",{transform:"translate(".concat(t,",").concat(qt-Zt,")")},vt,bt,kt)}),aa=function(){var e=n.a.createElement("foreignObject",{width:"40",height:"50",x:"-8",y:"2"},n.a.createElement(ve.a,null,"x_{\\text{ssd}} "));return function(t){var a=t.x,c=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(qt+Zt+3,")")},a>45&&n.a.createElement("foreignObject",{width:"40",height:"45",x:-a/2-20,y:6},n.a.createElement("div",{className:c.text},"CAN STOP")),n.a.createElement("foreignObject",{width:"40",height:"45",x:(Gt-a)/2-20,y:6},n.a.createElement("div",{className:c.text},"CAN'T STOP")),e,Object(r.createElement)("line",{markerStart:"url(#arrow)",stroke:Yt.a[400],strokeWidth:2,x2:-a,x1:0}),Object(r.createElement)("line",{markerStart:"url(#arrow3)",markerEnd:"url(#arrow3)",stroke:i.a[400],strokeWidth:2,strokeDasharray:"2 2",x2:Gt-a,x1:0}))}}(),ra=function(){var e=n.a.createElement("foreignObject",{width:"30",height:"30",x:"-8",y:"-30"},n.a.createElement(ve.a,null,"x_{\\text{cl}} "));return function(t){var a=t.x,c=t.classes;return n.a.createElement("g",{transform:"translate(".concat(a,",").concat(qt-Zt-3,")")},e,n.a.createElement("foreignObject",{width:"45",height:"45",x:Gt/2-a/2-20,y:-35},n.a.createElement("div",{className:c.text},"CAN CLEAR")),n.a.createElement("foreignObject",{width:"45",height:"45",x:-a/2-20,y:-35},n.a.createElement("div",{className:c.text},"CAN'T CLEAR")),Object(r.createElement)("line",{markerEnd:"url(#arrow2)",markerStart:"url(#arrow2)",stroke:ut.a.A400,strokeWidth:2,x2:0,x1:Gt-a}),Object(r.createElement)("line",{markerEnd:"url(#arrow3)",stroke:i.a[400],strokeWidth:2,strokeDasharray:"2,2",x2:0,x1:-a}))}}(),na=function(e){var t=e.mover,a=e.stopper,r=e.x0,c=e.lightColor,o=e.xssd,l=e.xcl,s=Ht(Ft);return n.a.createElement("svg",{width:700,height:175,className:s.svg},n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:Yt.a[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow2",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:ut.a.A400},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),n.a.createElement("marker",{id:"arrow3",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",fill:i.a[400]},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),n.a.createElement("g",null,Qt,n.a.createElement(ta,{x:Vt(r),classes:s}),n.a.createElement(aa,{x:Vt(o),classes:s}),n.a.createElement(ra,{x:Vt(l),classes:s}),n.a.createElement(ea,{color:Ut[c],classes:s}),n.a.createElement($t,{x:Vt(t.x),y:-15,violation:t.x<-1&&r>l}),n.a.createElement($t,{x:Vt(a.x),y:15,violation:a.x<-1})))},ca=a(2),ia=a(127),oa=a(15);function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(a,!0).forEach((function(t){ua(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ua(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ma={play:!0,v0:Dt,x0:.75*Lt,stopper:{x:Lt,v:Dt},mover:{x:Lt,v:Dt},time:0,useState:2,yellow:2.5},fa=function(e,t,a,r){var n=e.x,c=e.v,i=t.payload,o=i.xssd,l=i.dt;return n<Math.min(o,r)-a*zt?{v:Math.max(c-_t*l,0),x:Math.min(n-c*l+.5*_t*l*l,n)}:{v:c,x:n-c*l}},da=function(e,t){switch(t.type){case"TICK":var a=t.payload.dt,r=e.mover,n=e.stopper,c=e.v0,i=e.x0;return sa({},e,{time:e.time+a,mover:{v:r.v,x:r.x-r.v*a},stopper:fa(n,t,c,i)});case"SET_X0":return sa({},e,{x0:t.payload});case"SET_PLAY":return sa({},e,{play:t.payload});case"SET_YELLOW":return sa({},e,{yellow:t.payload});case"SET_V0":return sa({},e,{v0:t.payload});case"RESTART":return sa({},e,{mover:{v:e.v0,x:Lt},time:0,stopper:{v:e.v0,x:Lt}});case"DRAG":return sa({},e,{v0:t.payload.v0,x0:t.payload.x0});case"RESET":return sa({},e,{play:!1,time:0,mover:{v:e.v0,x:Lt},stopper:{v:e.v0,x:Lt}});default:return e}},ha=n.a.createContext({state:ma,dispatch:null}),pa=Object(oa.a)((function(e){return e*zt+e*e/2/_t})),ya=Object(oa.a)((function(e,t){return-Ct.width+e*t})),Ea=a(208),ga=a(207),xa=a(22),va=10,ba=40,ka=40,wa=10,Oa=Object(s.a)({svg:{width:400+ka+wa,height:800/3+va+ba,"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"},"& .katex":{fontSize:"13px"}},math:{fontSize:"10px"},dot:{stroke:"white",strokeWidth:3,fill:l.a[500],cursor:"pointer"},path:{},xssd:{strokeWidth:2,fill:"none",stroke:Yt.a[400]},xcl:{strokeWidth:2,fill:"none",stroke:ut.a.A400},dz:{fill:l.a.A200,opacity:.3,stroke:"none"},hidden:{fill:"white",opacity:0}}),ja=Object(L.a)().domain([0,Lt]).range([800/3,0]),Sa=Object(L.a)().domain([0,It]).range([0,400]),Aa=Object(ia.b)(ja),Ta=Object(ia.a)(Sa),Ma=Object(oa.a)((function(e,t){return"translate(".concat(e,",").concat(t,")")})),Ca=Array.apply(null,{length:80}).map((function(e,t){return t})),Na="M"+Ca.map((function(e){return[Sa(e),ja(zt*e+e*e/2/_t)]})).join("L"),Pa=Object(oa.a)((function(e){return"M"+Ca.map((function(t){return[Sa(t),ja(-Ct.width+t*e)]})).join("L")})),La=Object(ga.a)().x((function(e){return Sa(e[0])})).y0((function(e){return ja(e[2])})).y1((function(e){return ja(Math.max(e[1],e[2]))})),_a=Object(oa.a)((function(e){return La(Ca.map((function(t){return[t,zt*t+t*t/2/_t,-Ct.width+t*e]})))})),Da=Object(qe.a)({rect:{rx:1,ry:1,stroke:"none"},xssd:{fill:Yt.a[400]},xcl:{fill:ut.a.A400},dz:{fill:l.a.A200,opacity:.3,stroke:"none"}})((function(e){var t=e.classes;return n.a.createElement("g",{transform:"translate(".concat(12,",",30,")")},n.a.createElement("g",null,n.a.createElement("rect",{className:t.xssd,width:10,height:10}),n.a.createElement(ke,{latexstring:"x_{\\text{ssd}}",x:15,y:-7})),n.a.createElement("g",{transform:"translate(0,20)"},n.a.createElement("rect",{className:t.xcl,width:10,height:10}),n.a.createElement(ke,{latexstring:"x_{\\text{cl}}",x:15,y:-7})),n.a.createElement("g",{transform:"translate(0,40)"},n.a.createElement("rect",{className:t.dz,width:10,height:10}),n.a.createElement("text",{x:15,y:9},"dilemma zone")))})),Ia=function(){var e=Oa({}),t=Object(r.useRef)(),a=Object(r.useRef)(),c=(Object(r.useRef)(),Object(r.useRef)()),i=Object(r.useContext)(ha),o=i.state,l=i.dispatch,s=o.v0,u=o.x0,m=Object(r.useRef)(l);return Object(r.useLayoutEffect)((function(){Object(ca.f)(t.current).call(Aa),Object(ca.f)(a.current).call(Ta);var e=Object(Ea.a)().on("drag",(function(){m.current({type:"DRAG",payload:{x0:ja.invert(ca.b.y),v0:Sa.invert(ca.b.x)}})}));Object(ca.f)(c.current).call(e)}),[]),Object(r.useLayoutEffect)((function e(){Object(ca.f)(c.current).transition().ease(xa.b).duration(400).attr("r",7).transition().ease(xa.a).duration(400).attr("r",5).on("end",e)}),[]),n.a.createElement("svg",{className:e.svg},n.a.createElement("g",{transform:Ma(ka,va)},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:400,height:800/3,fill:"white"})),n.a.createElement("rect",{className:e.hidden,width:400,height:800/3}),n.a.createElement("g",{ref:t}),n.a.createElement("g",{ref:a,transform:Ma(0,800/3)}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(10,",",0,")")},n.a.createElement("span",{className:e.math},n.a.createElement(ve.a,{math:"x \\; \\text{(m)}"}))),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(352,",").concat(800/3-20,")")},n.a.createElement("span",{className:e.math},n.a.createElement(ve.a,{math:"v_0 \\; \\text{(m/s)}"}))),n.a.createElement("path",{d:_a(o.yellow),className:e.dz,mask:"url(#myMask)"}),n.a.createElement("path",{d:Na,className:e.xssd,mask:"url(#myMask)"}),n.a.createElement("path",{d:Pa(o.yellow),className:e.xcl,mask:"url(#myMask)"}),n.a.createElement("circle",{ref:c,className:e.dot,transform:"translate(".concat(Sa(s),",").concat(ja(u),")")}),n.a.createElement(Da,null)))};function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wa,za,Ka,Ya,Fa=Object(s.a)({main:{color:i.a[800],margin:"0 auto",marginTop:10,boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center"},column:{flexDirection:"column",display:"flex",alignItems:"center",marginTop:-15},red:{fill:Mt.a.A400},button:{},visContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:"30px"}}),Ha=(Wa=Object(at.a)((function(e){return{root:{color:e.palette.secondary.main,marginBottom:"15px"}}}))(tt.a),za=n.a.createElement(Tt.a,{variant:"body1"},n.a.createElement(ve.a,{math:"x_0"})," (position when light turns green → yellow)"),Ka=n.a.createElement(Tt.a,{variant:"body1"},n.a.createElement(ve.a,{math:"v_0"})," (speed when light changes green → yellow)"),Ya=n.a.createElement(Tt.a,{variant:"body1"},n.a.createElement(ve.a,{math:"t_y"})," (yellow light duration)"),function(){var e=Object(r.useContext)(ha),t=e.state,a=e.dispatch,c=t.x0,i=t.v0,o=t.yellow;return n.a.createElement(n.a.Fragment,null,za,n.a.createElement(Wa,{onChange:function(e,t){return a({type:"SET_X0",payload:t})},value:c,step:.02,min:0,max:Lt}),Ka,n.a.createElement(Wa,{onChange:function(e,t){return a({type:"SET_V0",payload:t})},value:i,step:.1,min:0,max:It}),Ya,n.a.createElement(Wa,{onChange:function(e,t){return a({type:"SET_YELLOW",payload:t})},value:o,step:.02,min:0,max:Rt}))}),qa={},Va=function(){var e=Object(r.useContext)(ha),t=e.state,a=e.dispatch,c=t.x0,i=t.v0,o=t.stopper,l=t.mover,s=t.time,u=t.play,m=t.yellow,d=Fa(qa),p=pa(i),y=ya(i,m);h((function(e){e/=Wt,l.x>Lt-Pt||o.v>0?a({type:"TICK",payload:{dt:e,xssd:p}}):setTimeout((function(){a({type:"RESTART"})}),0)}),u);var E=Ra(n.a.useState(!1),2),g=E[0],x=E[1];return n.a.createElement("div",{className:d.column},n.a.createElement(ct.a,{control:n.a.createElement(it.a,{checked:g,onChange:function(){x((function(e){return!e}))}}),label:"show video"}),n.a.createElement(nt.a,{in:g},n.a.createElement(ot.a,{elevation:2},n.a.createElement("div",{style:{width:640,height:380}},n.a.createElement("iframe",{width:"640",height:"380",src:"https://www.loom.com/embed/6d75a58ac2384ed5bdf13801cb055660",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})))),n.a.createElement("div",{className:d.main},n.a.createElement("div",{className:d.visContainer},n.a.createElement("div",{style:{marginBottom:"30px"}},na({mover:l,stopper:o,xcl:y,x0:c,lightColor:s<(Lt-c)/i?"green":s-(Lt-c)/i<m?"yellow":"red",xssd:p})),n.a.createElement(Ia,null)),n.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.a.createElement(Ha,null),n.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},n.a.createElement(f.a,{className:d.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!u})}},u?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:d.button,variant:"contained",color:"secondary",component:"div",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement("div",null))))},Ua=function(){var e=Ra(Object(r.useReducer)(da,ma),2),t=e[0],a=e[1];return n.a.createElement(ha.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Va,null))},Ga=100,Ba=650,Xa=500,Ja=a(7),Za=a(17),Qa=a.n(Za);function $a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function er(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$a(a,!0).forEach((function(t){tr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function tr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rr,nr={play:!0,x:0,v:20,v0:20,time:0,R:80,"Δ":60,Ms:8,braking:!1,flowCount:0};!function(e){e.TICK="TICK",e.SET_V0="SET_V0",e.SET_R="SET_R",e.SET_PLAY="SET_PLAY",e.RESET="RESET",e.RESTART="RESTART",e["SET_Δ"]="SET_Δ",e.SET_X="SET_X",e.SET_MS="SET_MS"}(rr||(rr={}));var cr=Object(Ja.a)([Qa()("Δ")],(function(e){return e/180*Math.PI/2})),ir=(Object(Ja.a)([Qa()("R"),cr],(function(e,t){return 2*e*Math.sin(t)})),Object(Ja.a)([function(e,t){return t.width}],(function(e){return Object(L.a)().domain([0,Ga]).range([0,e])}))),or=Object(Ja.a)([ir,function(e,t){return t.height}],(function(e,t){return function(a){return t-e(a+90)}})),lr=Object(Ja.a)([cr,Qa()("R")],(function(e,t){var a=2*t*Math.sin(e),r=(Ga-a)/2,n=Math.tan(e)*r,c=[50,n-Math.cos(e)*t];return{yKink:n,a:[0,0],b:[r,n],c:[r+a,n],d:[Ga,0],r:t,center:c,side:r,pvi:[50,50*Math.tan(e)],centerArc:[50,c[1]+t]}})),sr=Object(Ja.a)([lr,ir,or],(function(e,t,a){var r=e.a,n=e.b,c=e.c,i=e.d,o=e.r,l=e.center,s=e.pvi,u=e.centerArc,m=function(e){var r=ar(e,2),n=r[0],c=r[1];return[t(n),a(c)]};return{a:m(r),b:m(n),c:m(c),d:m(i),r:t(o),center:m(l),pvi:m(s),centerArc:m(u)}})),ur=Object(Ja.a)([sr],(function(e){var t=e.b,a=e.c,r=e.r;return"M"+t+"A ".concat(r," ").concat(r," 0 0 1 ").concat(a[0]," ").concat(a[1])})),mr=Object(Ja.a)([sr],(function(e){return"M"+e.a+"L"+e.b+"M"+e.c+"L"+e.d})),fr=Object(Ja.a)([sr],(function(e){e.a;var t=e.b,a=e.c;e.d;return"M"+t+"L"+e.center+"L"+a})),dr=Object(Ja.a)([cr,lr],(function(e,t){var a=t.r;return 2*t.side/Math.cos(e)+a*e*2})),hr=Object(Ja.a)(sr,(function(e){var t=e.pvi;return"M"+e.b+"L"+t+"L"+e.c})),pr=Object(Ja.a)([Qa()("x"),cr,lr],(function(e,t,a){var r=a.side/Math.cos(t);if(e<r)return{loc:[e*Math.cos(t),e*Math.sin(t)],rotate:-t};var n=a.r*t*2;if(e-r<n){var c=(e-r)/a.r-t;return{loc:[a.center[0]+a.r*Math.sin(c),a.center[1]+a.r*Math.cos(c)],rotate:c}}return{loc:[Ga-(e=2*r+n-e)*Math.cos(t),e*Math.sin(t)],rotate:t}})),yr=Object(Ja.a)([pr,ir,or],(function(e,t,a){var r=ar(e.loc,2),n=r[0],c=r[1],i=e.rotate;return{loc:[t(n),a(c)],rotate:i/Math.PI*180}})),Er=Object(Ja.a)([Qa()("Ms"),lr],(function(e,t){var a=ar(t.center,2),r=a[0],n=a[1],c=t.r,i=Math.acos((c-e)/c);return{loc:[r+c*Math.sin(i),n+c-e],rotate:i}})),gr=Object(Ja.a)([Er,ir,or],(function(e,t,a){var r=ar(e.loc,2),n=r[0],c=r[1],i=e.rotate;return{loc:[t(n),a(c)],rotate:i/Math.PI*180}})),xr=Object(Ja.a)([Qa()("Ms"),lr],(function(e,t){var a=ar(t.center,2),r=a[0],n=a[1],c=t.r,i=t.centerArc,o=c*Math.sin(Math.acos((c-e)/c));return{chordStart:[r-o,c-e+n],chordEnd:[r+o,c-e+n],block:[r,c-e+n],centerArc:i}})),vr=Object(Ja.a)([xr,ir,or],(function(e,t,a){var r=e.chordStart,n=e.chordEnd,c=e.block,i=e.centerArc,o=function(e){var r=ar(e,2),n=r[0],c=r[1];return[t(n),a(c)]};return{chordStart:o(r),chordEnd:o(n),block:o(c),centerArc:o(i)}})),br=Object(Ja.a)([vr],(function(e){var t=e.block,a=e.centerArc;return{x:(t[0]+a[0])/2,y:(t[1]+a[1])/2}})),kr=Object(Ja.a)([vr],(function(e){var t=e.chordStart,a=e.chordEnd,r=e.block;return"M"+t+"L"+a+"M"+e.centerArc+"L"+r})),wr=Object(Ja.a)([Qa()("Ms"),lr,pr],(function(e,t,a){var r=ar(t.center,2),n=r[0],c=(r[1],t.r),i=ar(a.loc,2),o=i[0],l=(i[1],Math.acos((c-e)/c));return o>n-c*Math.sin(l)})),Or=function(e,t){switch(t.type){case rr.TICK:var a=wr(e),r=t.payload;return er({},e,{v:a?e.v-3.4*r:e.v0,x:e.x+r*e.v+(a?-r*r*3.4*.5:0),time:e.time+r,braking:a});case rr.SET_Δ:return er({},e,{"Δ":t.payload});case rr.SET_MS:return er({},e,{Ms:t.payload});case rr.SET_X:return er({},e,{x:t.payload});case rr.SET_PLAY:return er({},e,{play:t.payload});case rr.SET_V0:return er({},e,{v0:t.payload});case rr.SET_R:return er({},e,{R:t.payload});case rr.RESTART:return er({},e,{time:0,x:0,v:e.v0});case rr.RESET:return er({},e,{play:!1,time:0,x:0,v:e.v0});default:return e}},jr=n.a.createContext({state:nr,dispatch:null});function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ar=function(e){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}};function Tr(e){var t=Sr(Object(r.useState)(Ar(e?e.current:null)),2),a=t[0],n=t[1],c=Object(r.useCallback)((function(){return e.current&&n(Ar(e.current))}),[e]);return Object(r.useLayoutEffect)((function(){if(e.current)return c(),window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[e.current]),a}var Mr=a(144),Cr=a(4);var Nr={},Pr=function(e,t,a,r){return n.a.createElement("g",{transform:"translate(".concat((t[0]+e[0])/2,", ").concat((t[1]+e[1])/2,") rotate(").concat(-r/2,")")},n.a.createElement("circle",{fill:"white",r:"12"}),n.a.createElement(ke,{x:0,y:0,dx:-6,dy:-11,latexstring:"R"}))},Lr=function(e){var t=e.x,a=e.y;return n.a.createElement("g",{transform:"translate(".concat(t-8,", ").concat(a-6,")")},n.a.createElement(ke,{x:0,y:0,dx:-1,dy:-3,latexstring:"M_s"}))},_r=function(){var e,t,a,c=Object(r.useContext)(jr).state,i=Dr(Nr),o=Object(r.useRef)(),l=Tr(o),s=sr(c,l),u=cr(c);return n.a.createElement("div",{ref:o,className:i.container},n.a.createElement("svg",{className:i.svg},n.a.createElement("circle",{r:s.r,cx:s.center[0],cy:s.center[1],className:i.circle}),n.a.createElement("path",{d:fr(c,l),className:i.hinge}),n.a.createElement("path",{d:mr(c,l),className:i.sides}),n.a.createElement("path",{d:ur(c,l),className:i.arc}),n.a.createElement("path",{d:ur(c,l),className:i.arc}),n.a.createElement("path",{d:hr(c,l),className:i.tangents}),n.a.createElement("path",{d:kr(c,l),className:i.hinge}),n.a.createElement("rect",{className:Object(Cr.a)(i.car,(e={},t=i.braking,a=c.braking,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e)),width:8,height:5,transform:"translate(".concat(yr(c,l).loc,") rotate(").concat(yr(c,l).rotate,") translate(").concat(-4,",").concat(-2.5,")")}),n.a.createElement(Lr,{x:br(c,l).x,y:br(c,l).y}),n.a.createElement("rect",{className:i.block,width:"20px",height:"20px",transform:"translate(".concat(vr(c,l).block,") translate(").concat(-10,",",0,")")}),n.a.createElement("rect",{className:i.car,width:8,height:5,transform:"translate(".concat(gr(c,l).loc,") rotate(").concat(gr(c,l).rotate,") translate(",4,",").concat(-2.5,")")}),n.a.createElement(ke,{x:s.center[0],y:s.center[1],dx:-6,dy:-50,rotate:0,latexstring:"\\Delta"}),n.a.createElement(ke,{x:s.pvi[0],y:s.pvi[1],dx:-12,dy:-17,rotate:0,latexstring:"\\text{PVI}"}),n.a.createElement(ke,{x:s.b[0],y:s.b[1],dx:-12,dy:-22,rotate:-c.Δ/2,latexstring:"\\text{PC}"}),n.a.createElement(ke,{x:s.c[0],y:s.c[1],dx:-12,dy:-22,rotate:c.Δ/2,latexstring:"\\text{PT}"}),n.a.createElement("circle",{cx:s.pvi[0],cy:s.pvi[1],r:"2",className:i.pvi}),n.a.createElement("circle",{cx:s.b[0],cy:s.b[1],r:"2",className:i.pvi}),n.a.createElement("circle",{cx:s.c[0],cy:s.c[1],r:"2",className:i.pvi}),n.a.createElement("path",{d:"M".concat(s.center[0]+30*Math.sin(-u),",").concat(s.center[1]-30*Math.cos(-u)," A ",30," ",30," 0 0 1 ").concat(s.center[0]+30*Math.sin(u)," ").concat(s.center[1]-30*Math.cos(u),"\n          "),stroke:"black",strokeWidth:"1px",fill:"none"}),Pr(s.center,s.b,s.r,c.Δ),Pr(s.center,s.c,s.r,-c.Δ)))},Dr=Object(s.a)({laser:{fill:"none","stroke-width":12},sides:{extend:"laser",stroke:Mr.a[700]},tangents:{stroke:ut.a.A200,strokeWidth:"1px",fill:"none",strokeDasharray:"2,2"},pvi:{stroke:"none",fill:ut.a.A200},arc:{extend:"laser",stroke:o.a[700]},circle:{extend:"laser",strokeWidth:"1px",stroke:ge.a[500],strokeDasharray:"2,3"},hinge:{extend:"laser",stroke:l.a.A700,fill:"none",strokeWidth:"1px",strokeDasharray:"2,3"},svg:{display:"block",width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},container:{position:"relative",width:"100%",height:"100%"},tangent:{stroke:l.a.A700,strokeWidth:"2px",fill:"none"},connected:{stroke:l.a.A200,strokeDasharray:"2, 2"},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:st.a[200],stroke:"white",rx:1.5,ry:1.5},braking:{fill:Mt.a.A400},block:{fill:ge.a.A700}}),Ir=Object(at.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"15px"}}}))(tt.a),Rr=function(){var e=Object(r.useContext)(jr),t=e.state,a=e.dispatch,c=Object(r.useMemo)((function(){return{"setΔ":function(e,t){return a({type:rr.SET_Δ,payload:t})},setR:function(e,t){return a({type:rr.SET_R,payload:t})},setX:function(e,t){return a({type:rr.SET_X,payload:t})},setMs:function(e,t){return a({type:rr.SET_MS,payload:t})}}}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(Tt.a,{variant:"body1"},n.a.createElement(ve.a,{math:"M_s"})," object distance (m)"),n.a.createElement(Ir,{onChange:c.setMs,value:t.Ms,step:.1,min:2,max:lr(t).r-lr(t).c[1]+lr(t).center[1]-2}),n.a.createElement(Tt.a,{variant:"body1"},n.a.createElement(ve.a,{math:"R"})," radius (m)"),n.a.createElement(Ir,{onChange:c.setR,value:t.R,step:1,min:70,max:90}))},Wr=a(18),zr=a(125),Kr=a(298),Yr=a(197);function Fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Hr,qr=Object(Wr.b)({plugins:[].concat((Hr=Object(zr.a)().plugins,function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(Hr)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(Hr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),[Object(Yr.a)()])}),Vr=Object(s.a)({main:{maxWidth:"900px",color:fe.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",alignItems:"center"},buttons:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},red:{fill:fe.a.red.A400},paper:{maxWidth:"500px",width:300,display:"flex",padding:"24px 36px",flexDirection:"column"},button:{margin:"10px"},visContainer:{width:Xa,height:Ba},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Ur={},Gr=function(){var e=Object(r.useContext)(jr),t=e.state,a=e.dispatch,c=Vr(Ur);return h((function(e){e/=.75,t.x<dr(t)&&t.v>0?a({type:rr.TICK,payload:e}):a({type:rr.RESTART})}),t.play),n.a.createElement("div",{className:c.main},n.a.createElement("div",{className:c.visContainer},n.a.createElement(_r,null)),n.a.createElement("div",{className:c.paper},n.a.createElement(Rr,null),n.a.createElement("div",{className:c.buttons},n.a.createElement(f.a,{className:c.button,variant:"contained",color:"secondary",onClick:function(){return a({type:rr.SET_PLAY,payload:!t.play})}},t.play?"PAUSE":"PLAY"),n.a.createElement(f.a,{className:c.button,variant:"contained",color:"secondary",onClick:function(){a({type:rr.RESET})}},"Reset"))))},Br=function(){var e=Fr(Object(r.useReducer)(Or,nr),2),t=e[0],a=e[1];return n.a.createElement(jr.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Gr,null))},Xr=function(){return n.a.createElement(Kr.b,{jss:qr},n.a.createElement(Br,null))},Jr=8e4/3600,Zr=(1+Math.sqrt(5))/2,Qr=1*Zr*2.5,$r=1/(2.5*Zr),en=$r/3,tn=Jr*en;function an(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?an(a,!0).forEach((function(t){nn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):an(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cn(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var on,ln=$r,sn=tn/($r-en),un=en,mn=Math.min,fn=Math.max,dn=function(e){return cn(Array(e).keys())};!function(e){e.TRIANGLE="TRIANGLE",e.GREENSHIELDS="GREENSHIELDS",e.DRAKE="DRAKE"}(on||(on={}));var hn,pn=dn(21).map((function(e,t){return(t+1)/21*ln})),yn={TRIANGLE:function(e){return fn(mn(22.22222222222222,sn*(ln/e-1)),0)},GREENSHIELDS:function(e){return fn(0,22.22222222222222*(1-e/ln))},DRAKE:function(e){return fn(0,22.22222222222222*Math.exp(-Math.pow(e/un,2)/2))}},En=function(e){return pn.map((function(t){return{k:t,s:1/t,v:yn[e](t),cars:dn(Math.round(140*t)).map((function(e){return e/t}))}}))},gn={play:!0,lanes:En(on.TRIANGLE),vk:on.TRIANGLE};!function(e){e.TICK="TICK",e.SET_VK="SET_VK",e.SET_PLAY="SET_PLAY"}(hn||(hn={}));var xn=function(e,t){switch(t.type){case hn.TICK:var a=t.payload;return rn({},e,{lanes:e.lanes.map((function(e){var t=e.cars.map((function(t){return t+a*e.v}));return t[0]>e.s&&t.unshift(t[0]-e.s),t[t.length-1]>140&&t.pop(),rn({},e,{cars:t})}))});case hn.SET_VK:return rn({},e,{vk:t.payload,lanes:En(t.payload)});case hn.SET_PLAY:return rn({},e,{play:t.payload});default:return e}},vn=Object(Ja.a)([function(e){return e.vk}],(function(e){switch(e){case on.GREENSHIELDS:return yn.GREENSHIELDS($r/2)*$r/2;case on.TRIANGLE:return tn;default:return yn.DRAKE(en)*en}})),bn=n.a.createContext({state:gn,dispatch:null}),kn=Object(L.a)().range([Mt.a.A700,ge.a.A700]).domain([0,Jr]),wn=25,On=30,jn=20,Sn=50,An="translate(".concat(jn,",").concat(wn,")"),Tn=Object(oa.a)((function(e,t,a){var n=Object(L.a)().range([t,0]).domain([0,1.2*Jr]),c=Object(L.a)().range([t,0]).domain([0,137.5]),i=Object(L.a)().range([0,e]).domain([0,$r+.008]),o=t-c(2.5),l=t-c(1),s=Object(r.createElement)("path",{className:a.road,strokeWidth:t-c(Qr),d:"M0,0L0,".concat(t)});return{vScale:n,xScale:c,kScale:i,carLength:o,carWidth:l,Road:s}})),Mn=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(bn).state,i=yn[c.vk],o=Cn({width:t+Sn+jn,height:a+wn+On}),l=Tn(t,a,o),s=l.vScale,u=l.xScale,m=l.kScale,f=l.carLength,d=l.carWidth,h=l.Road,p=Object(r.useMemo)((function(){return Object(r.createElement)("path",{className:o.path,d:dn(70).map((function(e,t,a){return e/(a.length-1)*$r})).reduce((function(e,t){return e+m(t)+","+s(i(t))+" "}),"M")})}),[m,s,i]);return n.a.createElement("svg",{className:o.svg},n.a.createElement("g",{transform:An},n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:t,height:a,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask)"},c.lanes.map((function(e,t){return n.a.createElement("g",{key:e.k,transform:"translate(".concat(m(e.k),",0)")},h,e.cars.map((function(t,a){return n.a.createElement("rect",{key:a,className:o.car,y:u(t),x:-d/2,height:f,fill:kn(i(e.k)),width:d})})))})),p),n.a.createElement("g",{id:"vaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(a),fill:"none",stroke:"black",markerEnd:"url(#arrow)",markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:-20,y:s(Jr)-10,latexstring:"v_f"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"v \\; \\text{(km/hr)}"})),n.a.createElement("g",{transform:"translate(0,".concat(a,")"),id:"kaxis"},n.a.createElement("path",{d:"M0,0L".concat(t,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)"}),n.a.createElement(ke,{x:m(c.vk===on.GREENSHIELDS?$r/2:en)-4,y:0,latexstring:"k_0"}),n.a.createElement(ke,{x:m($r)-4,y:0,latexstring:"k_j"}),n.a.createElement(ke,{x:t,y:-15,rotate:0,latexstring:"\\text{(veh/km)}"}))))},Cn=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},road:{stroke:i.a[300]},car:{rx:1,ry:1,stroke:"none"},svg:function(e){return{width:e.width,height:e.height,display:"block","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},text:{textAlign:"center",fontSize:"10px"}}),Nn=25,Pn=30,Ln=20,_n=50,Dn="translate(".concat(Ln,",").concat(Nn,")"),In=Object(r.memo)((function(e){var t=e.height,a=e.width,r=e.children;return n.a.createElement("g",{transform:"translate(0,".concat(t,")")},n.a.createElement("path",{d:"M0,0L".concat(a,",0"),fill:"none",stroke:"black"}),r)})),Rn=Object(r.memo)((function(e){var t=e.height,a=e.children;return n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(t),fill:"none",stroke:"black"}),a)})),Wn=Object(oa.a)((function(e,t){return{qScale:Object(L.a)().range([t,0]).domain([0,1.2*tn]),kScale:Object(L.a)().range([0,e]).domain([0,$r+.008])}})),zn=function(e){var t=e.width,a=e.height,c=Object(r.useContext)(bn).state,i=yn[c.vk],o=Kn({width:t+Ln+_n,height:a+Nn+Pn}),l=Wn(t,a),s=l.qScale,u=l.kScale,m=Object(r.useMemo)((function(){return dn(70).map((function(e,t,a){return e/(a.length-1)*$r})).reduce((function(e,t){return e+u(t)+","+s(t*i(t))+" "}),"M")}),[u,s,i]);return n.a.createElement("svg",{className:o.svg},n.a.createElement("g",{transform:Dn},n.a.createElement("mask",{id:"myMask2"},n.a.createElement("rect",{width:t,height:a,fill:"white"})),n.a.createElement("path",{mask:"url(#myMask2)",className:o.path,d:m}),n.a.createElement(Rn,{height:a},n.a.createElement(ke,{x:-20,y:s(vn(c))-10,latexstring:"q_0"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"\\text{(veh/hr)}"})),n.a.createElement(In,{height:a,width:t},n.a.createElement(ke,{x:u(c.vk===on.GREENSHIELDS?$r/2:en)-4,y:0,latexstring:"k_0"}),n.a.createElement(ke,{x:u($r)-4,y:0,latexstring:"k_j"}),n.a.createElement(ke,{x:t,y:-15,latexstring:"\\text{(veh/km)}"}))))},Kn=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},svg:function(e){return{width:e.width,height:e.height,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}}},text:{textAlign:"center",fontSize:"10px"}}),Yn=a(440),Fn=a(431);function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qn=n.a.memo((function(e){var t=e.changeVK,a=e.vk;return n.a.createElement(Fn.a,{row:!0,"aria-label":"Fundamental Diagram",name:"fd",value:a,onChange:t},n.a.createElement(ct.a,{value:on.TRIANGLE,control:n.a.createElement(Yn.a,null),label:"Triangle"}),n.a.createElement(ct.a,{value:on.GREENSHIELDS,control:n.a.createElement(Yn.a,null),label:"Greenshields"}),n.a.createElement(ct.a,{value:on.DRAKE,control:n.a.createElement(Yn.a,null),label:"Drake"}))})),Vn={},Un=600/Zr,Gn=function(){var e=Object(r.useContext)(bn),t=e.state,a=e.dispatch,c=t.play,i=Xn(Vn);h((function(e){e/=.5,a({type:hn.TICK,payload:Math.min(e,.05)})}),c);var o=Object(r.useCallback)((function(e){var t=e.currentTarget.value;a({type:hn.SET_VK,payload:t})}),[]);return n.a.createElement("div",{className:i.main},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("div",null,n.a.createElement(Mn,{height:Un,width:600})),n.a.createElement("div",null,n.a.createElement(zn,{height:Un,width:600}))),n.a.createElement("div",{className:i.controls},n.a.createElement(f.a,{className:i.button,variant:"contained",color:"secondary",onClick:function(){return a({type:hn.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(qn,{changeVK:o,vk:t.vk})))},Bn=function(){var e=Hn(Object(r.useReducer)(xn,gn),2),t=e[0],a=e[1];return n.a.createElement(bn.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Gn,null))},Xn=Object(s.a)({main:{color:i.a[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:Mt.a.A400},controls:{margin:"auto",display:"flex",marginTop:"10px",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},button:{margin:"5px",marginRight:"45px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}});Math.sqrt(5);function Jn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Zn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jn(a,!0).forEach((function(t){Qn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $n,ec=Math.min,tc=Math.max,ac=Object(oa.a)((function(e){return tc(ec(6e4/3600,6.666666666666666*(.25/e-1)),0)})),rc=Object(oa.a)((function(e){return tc(ec(6e4/3600*e,6.666666666666666*(.25-e)),0)})),nc={play:!0,time:0,k:.25/3.5};!function(e){e.TICK="TICK",e.SET_K="SET_K",e.SET_TIME="SET_TIME",e.SET_PLAY="SET_PLAY"}($n||($n={}));var cc=Object(oa.a)((function(e){return P()(25*-rc(e),140*e).map((function(t){return{x0:t/e,t0:0,x1:t/e+25*ac(e),t1:25}}))})),ic=Object(oa.a)((function(e,t){var a=t*ac(e);return cc(e).map((function(e){return e.x0+a}))})),oc=Object(oa.a)((function(e){var t=ac(e);return cc(e).map((function(e){return e.x0+3.75*t})).filter((function(e){return e>=21&&e<=119})).sort((function(e,t){return t-e}))})),lc=Object(oa.a)((function(e){var t=ac(e);return console.log("asdf"),cc(e).map((function(e){return(21-e.x0)/t})).filter((function(e){return e>=3.75&&e<=22.5})).sort((function(e,t){return e-t}))})),sc=P()(0,.2525,.0025).map((function(e){return[e,rc(e)]})),uc=function(e,t){switch(t.type){case $n.SET_TIME:return Zn({},e,{time:t.payload});case $n.TICK:return Zn({},e,{time:(e.time+t.payload)%25});case $n.SET_K:return Zn({},e,{k:t.payload});case $n.SET_PLAY:return Zn({},e,{play:t.payload});default:return e}},mc=n.a.createContext({state:nc,dispatch:null}),fc=a(433);a(120);function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var hc=n.a.memo((function(e){e.time;var t=e.xScale,a=e.tScale,c=e.t,i=e.x,o=e.className,l=(e.play,Object(r.useRef)());return Object(r.useLayoutEffect)((function(){Object(ca.f)(l.current).attr("r",0).transition().ease(xa.b).duration(320).attr("r",7).attr("stroke-width",4).transition().duration(300).ease(xa.b).attr("stroke-width",2).attr("r",4.5)}),[]),n.a.createElement("circle",{ref:l,className:o,cx:a(c),cy:t(i)})})),pc=25,yc=25,Ec=20,gc=10,xc="translate(".concat(Ec,",").concat(pc,")"),vc=Object(oa.a)((function(e,t){return{tScale:Object(L.a)().range([0,e]).domain([0,25]),xScale:Object(L.a)().range([t,0]).domain([0,140])}})),bc=n.a.memo((function(e){var t=e.xScale,a=e.tScale,r=e.k,c=e.lineClass;return n.a.createElement("g",{id:"g-lines"},cc(r).map((function(e,r){var i=e.x1,o=e.x0,l=e.t1,s=e.t0;return n.a.createElement("path",{key:r,d:"M".concat(a(s),",").concat(t(o),"L").concat(a(l),",").concat(t(i)),className:c})})))})),kc={},wc=function(){var e=Object(r.useContext)(mc).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-Ec-gc,0),height:Math.max(a-pc-yc,0)}}(Tr(t)),c=a.width,i=a.height,o=Oc(kc),l=vc(c,i),s=l.tScale,u=l.xScale,m=dc(Object(r.useMemo)((function(){return[i-u(3),i-u(1.5)]}),[u]),2),f=m[0],d=m[1];return n.a.createElement("div",{ref:t,className:o.container},n.a.createElement("svg",{className:o.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:xc},n.a.createElement("mask",{id:"myMask2"},n.a.createElement("rect",{width:c,height:i,fill:"white"})),n.a.createElement("mask",{id:"myMask3"},n.a.createElement("rect",{width:s(e.time),height:i,fill:"white"})),n.a.createElement("g",{id:"g-masked",mask:"url(#myMask2)"},Object(r.createElement)("path",{className:o.road,strokeWidth:i-u(5),d:"M0,0L0,".concat(i),transform:"translate(".concat(s(e.time),",0)")}),n.a.createElement("g",{className:o.maskedLines,mask:"url(#myMask3)"},Object(r.createElement)(bc,{xScale:u,tScale:s,k:e.k,lineClass:o.line})),n.a.createElement("g",{id:"g-cut"},n.a.createElement("rect",{className:o.cut,width:s(18.75),height:i-u(98),y:u(119),x:s(3.75)}),e.time>=3.75&&oc(e.k).map((function(t,a){return n.a.createElement(hc,{key:a,x:t,t:3.75,tScale:s,xScale:u,time:e.time,play:e.play,className:o.kdot})})),lc(e.k).filter((function(t){return t<=e.time})).map((function(t,a){return n.a.createElement(hc,{key:a,x:21,t:t,tScale:s,xScale:u,time:e.time,play:e.play,className:o.qdot})}))),n.a.createElement("g",{id:"g-lane",transform:"translate(".concat(s(e.time),",0)")},n.a.createElement("g",{id:"g-cars"},ic(e.k,e.time).map((function(e,t){return n.a.createElement("rect",{key:t,className:o.car,y:u(e)+f/6,x:-d/2,height:f,width:d})}))))),n.a.createElement("g",{id:"vaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(i),fill:"none",stroke:"black",className:o.axis,markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"x \\; \\text{(m)}"})),n.a.createElement("g",{transform:"translate(0,".concat(i,")"),id:"taxis"},n.a.createElement("path",{d:"M0,0L".concat(c,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:o.axis}),n.a.createElement(ke,{x:c-15,y:5,latexstring:"t \\; \\text{(s)}"})))))},Oc=Object(s.a)({path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"1,1"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:i.a[700],strokeWidth:"2px",rx:2,ry:2,fill:lt.a.A400,fillOpacity:.15},car:{fill:st.a.A200},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300]},axis:{strokeWidth:"2px",color:i.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:ge.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Sc=20,Ac=20,Tc=20,Mc=10,Cc="translate(".concat(Tc,",").concat(Sc,")"),Nc={},Pc=function(){var e=Object(r.useContext)(mc).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-Tc-Mc,0),height:Math.max(a-Sc-Ac,0)}}(Tr(t)),c=a.width,i=a.height,o=Lc(Nc),l=de([0,c],[0,.275],[c]),s=de([i,0],[0,1.4285714285714286],[i]),u=Object(r.useMemo)((function(){var e="M"+sc.map((function(e){var t=jc(e,2),a=t[0],r=t[1];return[l(a),s(r)]})).join("L");return n.a.createElement("path",{className:o.path,d:e})}),[c,i]);return n.a.createElement("div",{ref:t,className:o.container},n.a.createElement("svg",{className:o.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:Cc},n.a.createElement("mask",{id:"myMask4"},n.a.createElement("rect",{width:c,height:i,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask4)"},u,n.a.createElement("circle",{cx:l(e.k),cy:s(rc(e.k)),className:o.dot,r:6})),n.a.createElement("g",{id:"g-qaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(i),fill:"none",stroke:"black",className:o.axis,markerStart:"url(#arrow)"}),n.a.createElement(ke,{y:s(1.1904761904761905)-12,x:-15,latexstring:"q_0"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"q \\; \\text{veh/s}"})),n.a.createElement("g",{transform:"translate(0,".concat(i,")"),id:"g-kaxis"},n.a.createElement("path",{d:"M0,0L".concat(c,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:o.axis}),n.a.createElement(ke,{x:l(.25/3.5),y:0,latexstring:"k_0"}),n.a.createElement(ke,{x:c-70,y:5,latexstring:"k \\; \\text{(veh/100 m)}"})))))},Lc=Object(s.a)({dot:{fill:l.a[500],stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"2,2"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:i.a[700],strokeWidth:"2px",fill:ge.a.A200,fillOpacity:.2},car:{fill:st.a.A400},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300]},axis:{strokeWidth:"2px",color:i.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:ut.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Dc=Object(at.a)((function(e){return{root:{color:e.palette.primary.main,marginBottom:"5px"}}}))(tt.a),Ic=function(){var e=Object(r.useContext)(mc),t=e.state,a=e.dispatch,c=t.play,i=Kc(Rc);return h((function(e){e/=.25,a({type:$n.TICK,payload:e})}),c),n.a.createElement(ot.a,{elevation:2,className:i.paper},n.a.createElement(f.a,{component:"div",className:i.button,variant:"contained",color:"secondary",onClick:function(){return a({type:$n.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement("div",{className:i.sliderLabel,style:{marginTop:15}},"density ",n.a.createElement(ve.a,{math:"k \\; \\text{(veh/km)}"})),n.a.createElement(Dc,{component:"div",onChange:function(e,t){return a({type:$n.SET_K,payload:t})},value:t.k,step:.25/300,min:0,max:.25}),n.a.createElement("div",{className:i.sliderLabel},"time ",n.a.createElement(ve.a,{math:"t \\; (s)"})),n.a.createElement(Dc,{component:"div",onChange:function(e,t){return a({type:$n.SET_TIME,payload:t})},value:t.time,step:25/300,min:0,max:25}))},Rc={},Wc=function(){var e=Kc(Rc);return n.a.createElement(fc.a,{direction:"column",container:!0,className:e.main,alignItems:"stretch",spacing:3},n.a.createElement(fc.a,{item:!0,className:e.spaceTimeContainer},n.a.createElement(wc,null)),n.a.createElement(fc.a,{item:!0,className:e.qkContainer},n.a.createElement(Pc,null)),n.a.createElement(fc.a,{item:!0},n.a.createElement(Ic,null)))},zc=function(){var e=_c(Object(r.useReducer)(uc,nc),2),t=e[0],a=e[1];return n.a.createElement(mc.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Wc,null))},Kc=Object(s.a)({qkContainer:{height:"250px"},spaceTimeContainer:{height:"450px"},main:{maxWidth:"700px",margin:"0 auto"},sliderLabel:{fontSize:"14px",marginTop:"5px"},paper:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"10px 30px"},button:{margin:"5px"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),Yc=a(435),Fc=a(438);function Hc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hc(a,!0).forEach((function(t){Vc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hc(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Vc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Math.min,Math.max;var Uc,Gc={play:!0,time:0,kCar:.1,vCar:10,kTruck:.1,vTruck:6};!function(e){e.TICK="TICK",e.SET_VAR="SET_VAR",e.SET_PLAY="SET_PLAY"}(Uc||(Uc={}));var Bc,Xc,Jc=function(e){var t="k"+e,a="v"+e,r=Object(Ja.a)([Qa()(t),Qa()(a)],(function(e,t){return P()(150*e,-t*e*25).map((function(a){return{x0:a/e,t0:0,x1:a/e+25*t,t1:25}}))})),n=Object(Ja.a)([Qa()(a),Qa()("time"),r],(function(e,t,a){var r=t*e;return a.map((function(e){var t=e.x0;return{id:t,x:t+r}}))}));return{getLines:r,getKDots:Object(Ja.a)([Qa()(a),r],(function(e,t){var a=3.75*e;return t.map((function(e){return e.x0+a})).filter((function(e){return e>=22.5&&e<=135})).sort((function(e,t){return e-t}))})),getQDots:Object(Ja.a)([Qa()(a),r],(function(e,t){return t.map((function(t){return(22.5-t.x0)/e})).filter((function(e){return e>=3.75&&e<=22.5})).sort((function(e,t){return e-t}))})),getVehs:n}},Zc=Object(Ja.a)([Qa()("vCar"),Qa()("vTruck"),Qa()("kCar"),Qa()("kTruck")],(function(e,t,a,r){return{timeMean:(e*e*a+t*t*r)/(e*a+t*r),spaceMean:(e*a+t*r)/(a+r)}})),Qc=Jc("Car"),$c=Qc.getLines,ei=Qc.getKDots,ti=Qc.getQDots,ai=Qc.getVehs,ri=Jc("Truck"),ni=ri.getLines,ci=ri.getKDots,ii=ri.getQDots,oi=ri.getVehs,li=function(e,t){switch(t.type){case Uc.SET_VAR:return qc({},e,Vc({},t.payload.key,t.payload.val));case Uc.TICK:return qc({},e,{time:(e.time+t.payload)%25});case Uc.SET_PLAY:return qc({},e,{play:t.payload});default:return e}},si=n.a.createContext({state:Gc,dispatch:null}),ui=25,mi=25,fi=20,di=10,hi="translate(".concat(fi,",").concat(ui,")"),pi=600-fi-di,yi=590-ui-mi,Ei=Object(L.a)().range([0,pi]).domain([0,25]),gi=Object(L.a)().range([yi,0]).domain([0,150]),xi=yi-gi(2),vi=yi-gi(1.5),bi=yi-gi(4),ki=yi-gi(2),wi=st.a.A400,Oi=ge.a.A700,ji={opacity:.55},Si=Object(r.memo)((function(e){var t=e.t,a=e.x,c=e.fill,i=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){Object(ca.f)(i.current).attr("r",0).transition().ease(xa.b).duration(250).attr("r",5).transition().duration(250).ease(xa.b).attr("r",3.5)}),[]),n.a.createElement("circle",{ref:i,r:"4px",fill:c,style:ji,cx:Ei(t),cy:gi(a)})})),Ai=function(){var e={strokeWidth:"1.5px",strokeDasharray:"1,1"};return n.a.memo((function(t){var a=t.lines,r=t.stroke;return n.a.createElement("g",{id:"g-lines"},a.map((function(t,a){var c=t.x1,i=t.x0,o=t.t1,l=t.t0;return n.a.createElement("path",{key:a,style:e,stroke:r,d:"M".concat(Ei(l),",").concat(gi(i),"L").concat(Ei(o),",").concat(gi(c))})})))}))}(),Ti=n.a.createElement("g",{transform:"translate(".concat(250,",",yi+11,")")},n.a.createElement("g",null,n.a.createElement("rect",{width:"10",height:"10",fill:wi}),n.a.createElement("text",{x:18,y:"10",style:{fontSize:"16px"}},"car")),n.a.createElement("g",{transform:"translate(70,0)"},n.a.createElement("rect",{width:"10",height:"10",fill:Oi}),n.a.createElement("text",{x:18,y:"10",style:{fontSize:"16px"}},"truck"))),Mi={},Ci=(Bc={strokeWidth:"2px",color:i.a[800]},n.a.createElement("g",null,n.a.createElement("g",{id:"vaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(yi),fill:"none",stroke:"black",style:Bc,markerStart:"url(#arrow)"}),n.a.createElement(ke,{x:-10,y:-25,latexstring:"x \\; \\text{(m)}"})),n.a.createElement("g",{transform:"translate(0,".concat(yi,")"),id:"taxis"},n.a.createElement("path",{d:"M0,0L".concat(pi,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",style:Bc}),n.a.createElement(ke,{x:pi-18,y:5,latexstring:"t \\; \\text{(s)}"})))),Ni={strokeDasharray:"2,2",stroke:i.a[500],strokeWidth:"2px"},Pi=n.a.createElement("g",{transform:"translate(".concat(Ei(3.75),",0)")},n.a.createElement("path",{d:"M0,0L0,".concat(yi),style:Ni}),n.a.createElement(ke,{x:-3,y:yi+3,latexstring:"t^*"})),Li=n.a.createElement("g",{transform:"translate(0,".concat(gi(22.5),")")},n.a.createElement("path",{d:"M0,0L".concat(pi,",0"),style:Ni}),n.a.createElement(ke,{x:-18,y:-11,latexstring:"x^* "})),_i=Object(r.createElement)("path",{stroke:i.a[300],strokeWidth:yi-gi(7),d:"M0,0L0,".concat(yi)}),Di=(Xc={stroke:i.a[700],strokeWidth:"2px",rx:2,ry:2,fill:lt.a.A400,fillOpacity:.15},n.a.createElement("rect",{style:Xc,width:Ei(18.75),height:yi-gi(112.5),y:gi(135),x:Ei(3.75)})),Ii=n.a.createElement("mask",{id:"myMask10"},n.a.createElement("rect",{width:pi,height:yi,fill:"white"})),Ri=function(){var e=Object(r.useContext)(si).state,t=Wi(Mi);return n.a.createElement("svg",{className:t.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:hi},Ii,n.a.createElement("mask",{id:"myMask3"},n.a.createElement("rect",{width:Ei(e.time),height:yi,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask3)"},n.a.createElement(Ai,{lines:$c(e),stroke:wi}),n.a.createElement(Ai,{lines:ni(e),stroke:Oi})),Pi,Li,n.a.createElement("g",{id:"g-masked",mask:"url(#myMask10)"},Di,e.time>=3.75&&n.a.createElement("g",null,n.a.createElement("g",null,ei(e).map((function(e,t){return n.a.createElement(Si,{key:t,x:e,t:3.75,fill:wi})}))),n.a.createElement("g",null,ci(e).map((function(e,t){return n.a.createElement(Si,{key:t,x:e,t:3.75,fill:Oi})}))),n.a.createElement("g",null,ti(e).filter((function(t){return t<=e.time})).map((function(e,t){return n.a.createElement(Si,{key:t,x:22.5,t:e,fill:wi})}))),n.a.createElement("g",null,ii(e).filter((function(t){return t<=e.time})).map((function(e,t){return n.a.createElement(Si,{key:t,x:22.5,t:e,fill:Oi})})))),n.a.createElement("g",{id:"g-lane",transform:"translate(".concat(Ei(e.time),",0)")},_i,n.a.createElement("g",{id:"g-cars"},ai(e).map((function(e){var t=e.x,a=e.id;return n.a.createElement("rect",{key:a,fill:wi,y:gi(t)+xi/6,x:4-vi/2,height:xi,width:vi})}))),n.a.createElement("g",{id:"g-trucks"},oi(e).map((function(e){var a=e.id,r=e.x;return n.a.createElement("rect",{key:a,className:t.car,y:gi(r)+bi/6,x:-4-ki/2,height:bi,width:ki,fill:Oi})}))))),Ci,Ti))},Wi=Object(s.a)({svg:{width:pi+fi+di,height:yi+ui+mi,"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},text:{textAlign:"center",fontSize:"10px"}}),zi=Object(qe.a)((function(e){return{root:{color:e.palette.secondary.main}}}))(tt.a),Ki={fontSize:"14px"},Yi={width:"100%"},Fi=function(e){var t=e.keyVar,a=e.step,c=e.min,i=e.max,o=e.latexstring,l=e.label,s=e.value,u=Object(r.useContext)(si).dispatch;return n.a.createElement("div",{style:Yi},n.a.createElement("div",{style:Ki},l," ",n.a.createElement(ve.a,{math:o})),n.a.createElement(zi,{component:"div",onChange:function(e,a){return u({type:Uc.SET_VAR,payload:{key:t,val:a}})},value:s,step:a,min:c,max:i}))},Hi={controlsContainer:{display:"flex",alignItems:"center",flexDirection:"column",padding:"5px 15px",width:300,boxSizing:"border-box"},button:{margin:"5px auto"}},qi=function(){var e=Object(r.useContext)(si),t=e.state,a=e.dispatch,c=t.play;return h((function(e){e/=.25,a({type:Uc.TICK,payload:e})}),c),n.a.createElement("div",{style:Hi.controlsContainer},n.a.createElement(Fi,{step:.01,min:.01,max:12,keyVar:"vCar",latexstring:" v_{\\text{car}}",label:"speed car",value:t.vCar}),n.a.createElement(Fi,{step:.01,min:.01,max:12,keyVar:"vTruck",latexstring:"v_{\\text{truck}} ",label:"speed truck",value:t.vTruck}),n.a.createElement("div",{style:{padding:"11px"}},n.a.createElement("div",{style:Ki},"Time-mean speed ",n.a.createElement(ve.a,{math:"v_t"})),n.a.createElement("svg",{width:270,height:15},n.a.createElement("rect",{height:15,width:Zc(t).timeMean/12*270,fill:l.a.A400}))),n.a.createElement("div",{style:{padding:"11px"}},n.a.createElement("div",{style:Ki},"Space-mean speed ",n.a.createElement(ve.a,{math:"v_s"})),n.a.createElement("svg",{width:270,height:15},n.a.createElement("rect",{height:15,width:Zc(t).spaceMean/12*270,fill:l.a.A400}))),n.a.createElement(Fi,{step:.01,min:0,max:25,keyVar:"time",latexstring:"t",label:"time",value:t.time}),n.a.createElement("div",null,n.a.createElement(f.a,{component:"div",style:Hi.button,variant:"contained",color:"secondary",onClick:function(){return a({type:Uc.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY")))};function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ui={},Gi=function(){var e=Xi(Ui),t=Vi(n.a.useState(!1),2),a=t[0],r=t[1];return n.a.createElement("div",{className:e.container},n.a.createElement(ct.a,{control:n.a.createElement(it.a,{checked:a,onChange:function(){r((function(e){return!e}))}}),label:"show video"}),n.a.createElement(nt.a,{in:a},n.a.createElement(ot.a,{elevation:2},n.a.createElement("div",{className:e.videoContainer},n.a.createElement("iframe",{width:"640",height:"360",src:"https://www.loom.com/embed/1fa88513238d4b6aa0b211b7f1973e03",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})))),n.a.createElement("div",{className:e.main},n.a.createElement("div",null,n.a.createElement(Ri,null)),n.a.createElement(qi,null)))},Bi=function(){var e=Vi(Object(r.useReducer)(li,Gc),2),t=e[0],a=e[1];return n.a.createElement(si.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Gi,null))},Xi=Object(s.a)({qkContainer:{height:"250px"},spaceTimeContainer:{height:"450px"},main:{display:"flex",margin:"0 auto"},container:{display:"flex",flexDirection:"column",alignItems:"center"},videoContainer:{width:640,height:360}});Math.sqrt(5);function Ji(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Zi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ji(a,!0).forEach((function(t){Qi(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ji(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $i(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var eo,to=Math.min,ao=Math.max,ro=Object(Ja.a)([function(e){return e.kj},function(e){return e.k0},function(e){return e.vf}],(function(e,t,a){var r=a*t/(e-t);return function(t){return ao(to(a,r*(e/t-1)),0)}})),no=Object(Ja.a)([ro],(function(e){return function(t){return t*e(t)}})),co=function(e){return P()(0,300,1/e).map((function(e){return{id:e,x:e}}))},io={play:!1,time:0,vf:4.5,kj:1/3,k0:1/9,k:.1,cars:co(.1),flowCount:[]};!function(e){e.TICK="TICK",e.SET_K="SET_K",e.SET_PLAY="SET_PLAY",e.SET_VF="SET_VF",e.SET_KJ="SET_KJ",e.SET_K0="SET_K0"}(eo||(eo={}));var oo=function(e,t){switch(t.type){case eo.TICK:var a=!1,r=t.payload*ro(e)(e.k),n=e.cars.map((function(e){var t=e.x+r;return t>300&&e.x<300&&(a=!0),t%=300,{id:e.id,x:t}})),c=e.time+t.payload,i=a?[].concat($i(e.flowCount),[c]):e.flowCount,o=!1,l=!0,s=!1,u=void 0;try{for(var m,f=i[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){m.value<=c-30&&(o=!0)}}catch(e){s=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}return o&&(i=i.filter((function(e){return e>c-30}))),Zi({},e,{cars:n,time:c,flowCount:i});case eo.SET_K0:return Zi({},e,{k0:t.payload});case eo.SET_VF:return Zi({},e,{vf:t.payload});case eo.SET_KJ:return Zi({},e,{kj:t.payload});case eo.SET_K:return Zi({},e,{k:t.payload,cars:co(t.payload)});case eo.SET_PLAY:return Zi({},e,{play:t.payload});default:return e}},lo=n.a.createContext({state:io,dispatch:null}),so=20,uo=20,mo=20,fo=20,ho="translate(".concat(mo,",").concat(so,")"),po=function(){var e=Object(r.useContext)(lo).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:t-mo-fo,height:a-so-uo}}(Tr(t)).width,c=yo({width:a}),o=a/2-10,s=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){Object(ca.f)(s.current).attr("x",o-10).attr("fill",i.a.A400).attr("width",20)}),[o]),Object(r.useLayoutEffect)((function(){a<10||Object(ca.f)(s.current).transition().ease(xa.a).duration(100).attr("x",o-10-2.5).attr("width",25).attr("fill",l.a.A400).transition().duration(200).ease(xa.b).attr("x",o-10).attr("fill",i.a.A400).attr("width",20)}),[e.flowCount[e.flowCount.length-1]]),n.a.createElement("div",{ref:t,className:c.container},n.a.createElement("svg",{className:c.svg},n.a.createElement("g",{transform:ho},n.a.createElement("g",{transform:"translate(".concat(a/2,",").concat(a/2,")")},n.a.createElement("circle",{className:c.road,r:o}),n.a.createElement("g",{transform:"translate(".concat(o+10+5,",0)")},n.a.createElement(xo,{flow:e.flowCount.length})),n.a.createElement("g",{id:"g-cars"},e.cars.map((function(e){return n.a.createElement("rect",{key:e.id,transform:"rotate(".concat(e.x/300*360,") "),className:c.car,x:o-1.5,rx:"1",ry:"1",width:"2",height:"4"})})),n.a.createElement("rect",{y:0,ref:s,stroke:"white",height:4,dy:-2}))))))},yo=Object(s.a)({dot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},container:{position:"relative",boxSizing:"border-box",width:"100%"},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"2,2"},svg:{width:"100%",height:function(e){return e.width+so+uo},"& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:i.a[700],strokeWidth:"2px",fill:ge.a.A200,fillOpacity:.2},car:{fill:st.a.A400},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300],strokeWidth:20,fill:"none"},axis:{strokeWidth:"2px",color:i.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:ut.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}}),Eo={fill:l.a[500]},go=Object(L.a)().domain([0,8.6]).range([0,100]),xo=function(e){var t=e.flow,a=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){Object(ca.f)(a.current).transition().duration(100).ease(xa.b).attr("y",-go(t)).attr("height",go(t))}),[t]),n.a.createElement("rect",{ref:a,style:Eo,width:"5px"})},vo=20,bo=20,ko=20,wo=40,Oo="translate(".concat(ko,",").concat(vo,")"),jo={},So=function(){var e=Object(r.useContext)(lo).state,t=Object(r.useRef)(),a=function(e){var t=e.width,a=e.height;return{width:Math.max(t-ko-wo,0),height:Math.max(a-vo-bo,0)}}(Tr(t)),c=a.width,i=a.height,o=Ao(jo),l=de([0,c],[0,.4],[c]),s=de([i,0],[0,2/3],[i]),u=no(e),m=Object(r.useMemo)((function(){var t="M"+P()(0,e.kj+.005,e.kj/100).map((function(e){return[l(e),s(u(e))]})).join("L");return n.a.createElement("path",{className:o.path,d:t})}),[c,i,e.kj,e.k0,e.vf]);return n.a.createElement("div",{ref:t,className:o.container},n.a.createElement("svg",{className:o.svg},n.a.createElement(Ve,null),n.a.createElement("g",{transform:Oo},n.a.createElement("mask",{id:"myMask4"},n.a.createElement("rect",{width:c,height:i,fill:"white"})),n.a.createElement("g",{mask:"url(#myMask4)"},m,n.a.createElement("circle",{cx:l(e.k),cy:s(u(e.k)),className:o.dot,r:6})),n.a.createElement("g",{id:"g-qaxis"},n.a.createElement("path",{d:"M0,0L0,".concat(i),fill:"none",stroke:"black",className:o.axis,markerStart:"url(#arrow)"}),n.a.createElement(ke,{y:s(e.k0*e.vf)-9,x:-15,latexstring:"q_0"}),n.a.createElement(ke,{x:-20,y:-25,latexstring:"q \\; \\text{(veh/s)}"})),n.a.createElement("g",{transform:"translate(0,".concat(i,")"),id:"g-kaxis"},n.a.createElement("path",{d:"M0,0L".concat(c,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)",className:o.axis}),n.a.createElement(ke,{x:l(e.k0),y:0,latexstring:"k_0"}),n.a.createElement(ke,{x:l(e.kj),y:0,latexstring:"k_j"}),n.a.createElement(ke,{x:c-40,y:-24,latexstring:"k \\; \\text{(veh/km)}"})))))},Ao=Object(s.a)({dot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},path:{strokeWidth:"4px",fill:"none",stroke:o.a.A700,opacity:.8},container:{position:"relative",width:"100%",height:"100%"},line:{strokeWidth:"1.5px",stroke:o.a.A400,strokeDasharray:"2,2"},svg:{width:"100%",height:"100%","& text":{fontFamily:"Puritan, san-serif",fontSize:"11px"}},cut:{stroke:i.a[700],strokeWidth:"2px",fill:ge.a.A200,fillOpacity:.2},car:{fill:st.a.A400},masked:{mask:"url(#myMask2)"},maskedLines:{mask:"url(#myMask3)"},road:{stroke:i.a[300]},axis:{strokeWidth:"2px",color:i.a[800]},qdot:{fill:l.a.A400,stroke:"white",strokeWidth:"2px"},kdot:{fill:ut.a.A700,stroke:"white",strokeWidth:"2px"},text:{textAlign:"center",fontSize:"10px"}});function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Mo=Object(at.a)((function(e){return{root:{color:e.palette.secondary.main,marginBottom:"5px"}}}))(tt.a),Co=function(){var e=Object(r.useContext)(lo),t=e.state,a=e.dispatch,c=t.play,i=_o(No);return h((function(e){e/=.2,a({type:eo.TICK,payload:e})}),c),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,{component:"div",className:i.button,variant:"contained",color:"secondary",onClick:function(){return a({type:eo.SET_PLAY,payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("div",{className:i.sliderLabel,style:{marginTop:15}},"density ",n.a.createElement(ve.a,{math:"k \\; \\text{(veh/km)}"})),n.a.createElement(Mo,{component:"div",onChange:function(e,t){return a({type:eo.SET_K,payload:t})},value:t.k,step:.01,min:0,max:t.kj})))},No={},Po=function(){var e=_o(No),t=To(n.a.useState(!1),2),a=t[0],r=t[1];return n.a.createElement("div",{className:e.container},n.a.createElement(ct.a,{control:n.a.createElement(it.a,{checked:a,onChange:function(){r((function(e){return!e}))}}),label:"show video"}),n.a.createElement(nt.a,{in:a},n.a.createElement(ot.a,{elevation:2},n.a.createElement("div",{className:e.videoContainer},n.a.createElement("iframe",{width:"640",height:"360",src:"https://www.loom.com/embed/c6635b0e86344b5dbf28f23fd1c074d3",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})))),n.a.createElement("div",{className:e.main},n.a.createElement("div",{className:e.ringContainer},n.a.createElement(po,null)),n.a.createElement("div",{className:e.qkContainer},n.a.createElement("div",{style:{height:"270px",width:"100%"}},n.a.createElement(So,null)),n.a.createElement(Co,null))))},Lo=function(){var e=To(Object(r.useReducer)(oo,io),2),t=e[0],a=e[1];return n.a.createElement(lo.Provider,{value:{state:t,dispatch:a}},n.a.createElement(Po,null))},_o=Object(s.a)({qkContainer:{width:"420px",display:"flex",flexDirection:"column",alignItems:"center"},row:{display:"flex",flexDirection:"row"},ringContainer:{width:"500px"},main:{margin:"0 auto",display:"flex"},sliderLabel:{fontSize:"14px",marginTop:"5px"},paper:{display:"flex",flexDirection:"column",padding:"10px 30px"},button:{margin:"5px"},container:{display:"flex",flexDirection:"column",alignItems:"center"},videoContainer:{width:640,height:360}}),Do=a(199),Io=a.n(Do),Ro=a(200),Wo=a.n(Ro),zo=a(201),Ko=a.n(zo);function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fo,Ho={"/":"Traffic Vis","dilemma-zone":"Dilemma Zones","construction-zone":"Construction Zone","space-mean":"Space vs. Time Mean Speed","fundamental-diagram":"Fundamental Diagram","fundamental-diagrams":"Three Fundamental Diagrams"},qo=Object.entries(Ho).slice(1),Vo=function(){return n.a.createElement("div",{style:{maxWidth:"700px",margin:"0 auto",lineHeight:"1.5em"}},n.a.createElement("div",null,"Welcome! This site hosts interactive visualizations that help students understand concepts from ",n.a.createElement("em",null,"CEE 310: Transportation Engineering,")," an introductory course at University of Illinois at Urbana-Champaign. Each visualization has a short video that you can toggle to explain what's going on. If you teach transportation engineering, feel free to use the interactives in your class."),n.a.createElement("div",null,n.a.createElement("ul",null,qo.map((function(e){return n.a.createElement(u.b,{to:e[0],key:e[0]},n.a.createElement("li",null,e[1]))})))),n.a.createElement("div",null,"Note: ",n.a.createElement("a",{href:"http://lewislehe.com",target:"__blank"},"Dr. Lewis Lehe")," is looking for Ph.D. and M.S. students to start Fall 2020 at UIUC. His research focuses on downtown traffic and transportation economics. Programming skills, a good math background and an interest in solving urban traffic are required."))},Uo=(Fo=Object(s.a)({about:{maxWidth:"700px",fontSize:"16px",lineHeight:"1.5em",display:"flex",flexDirection:"column",margin:"0 auto",alignItems:"center","& hr":{borderTop:"1px solid "+i.a[400],width:"100%",margin:"10px 0px",background:"none"}},imgContainer:{alignSelf:"center",display:"flex",justifyContent:"center","& img":{width:"200px",boxShadow:"1px 1px 2px ".concat(i.a[400]),marginRight:"20px"}},person:{display:"flex",marginBottom:"20px"}}),function(){var e=Fo({});return n.a.createElement("div",{className:e.about},n.a.createElement("div",{style:{fontSize:"24px",marginBottom:"20px"}},"Vision"),n.a.createElement("div",null,"Transportation engineering is all about vehicles in motion, but transportation engineers and academics typically work with static diagrams. This site is an experiment in the idea that students learn the subject better when they can interact with moving representations. The course CEE 310 is taught every semester, so the page will be updated with new interactives as time goes on."),n.a.createElement("hr",null),n.a.createElement("div",{style:{fontSize:"24px",marginBottom:"20px",marginTop:"20px"}},"Team"),n.a.createElement("div",{className:e.person},n.a.createElement("div",{className:e.imgContainer},n.a.createElement("img",{src:Wo.a})),n.a.createElement("div",null,"Since Fall 2018, Lewis Lehe has been assistant professor in the transportation systems group of the Department of Civil and Environmental Engineering at UIUC. He earned a PhD and MS in CEE at UC Berkeley and an MA in Transport Economics at University of Leeds. His research focuses on the economics of downtown traffic. In a previous life, he made visualizations with"," ",n.a.createElement("a",{href:"https://www.google.com/search?client=firefox-b-1-d&q=vicapow"},"@vicapow")," ","under the ",n.a.createElement("a",{href:"http://setosa.io"},"Setosa")," name.",n.a.createElement("br",null),n.a.createElement("a",{href:"http://lewislehe.com"},"Home page")," (includes other visualizations)")),n.a.createElement("div",{className:e.person},n.a.createElement("div",{className:e.imgContainer},n.a.createElement("img",{src:Io.a})),n.a.createElement("div",null,"In Summer 2019, Negin Alemazkoor earned her PhD in Civil Engineering from UIUC. She is currently a Postdoctoral Research Associate in the Purdue School of Industrial Engineering. Her research mainly concerns developing computational tools for fast and reliable analysis of smart and resilient infrastructure systems with a focus on power and transportation systems.",n.a.createElement("br",null),n.a.createElement("a",{href:"https://nalemazkoor.wixsite.com/negin"},"Home page"))),n.a.createElement("div",{className:e.person},n.a.createElement("div",{className:e.imgContainer},n.a.createElement("img",{src:Ko.a})),n.a.createElement("div",null,"Jesus holds an M.S. in Civil engineering and is currently pursuing Ph.D. in the Department of Civil and Environmental Engineering at the University of Illinois, Urbana-Champaign (UIUC). He is working as a research assistant in projects related to transportation systems evaluation, transit networks, intelligent transportation systems, highway safety, and previously traffic safety related to the application of Vision Zero principles. He attended to Valparaiso University prior to joining UIUC in 2017.")),n.a.createElement("div",{style:{fontSize:"24px",margin:"20px auto"}},"Tools"),n.a.createElement("div",{style:{marginBottom:"24px"}},"The site was created using React, d3, Material UI, TypeScript, Webpack, babel and Netlify."))}),Go={paddingRight:"15px"},Bo=function(){var e,t=Jo({});return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:t.title},n.a.createElement("div",null,(e=Object(m.f)().pathname.slice(1),Ho.hasOwnProperty(e)?Ho[e]:Ho["/"])),n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement("div",{style:Go},n.a.createElement(u.b,{to:"/"},"home")),n.a.createElement("div",{style:Go},n.a.createElement(Xo,null)),n.a.createElement("div",{style:Go},n.a.createElement(u.b,{to:"/about"},"about"))),n.a.createElement("div",{className:t.main},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/about",component:Uo}),n.a.createElement(m.a,{path:"/construction-zone",component:St}),n.a.createElement(m.a,{path:"/dilemma-zone",component:Ua}),n.a.createElement(m.a,{path:"/space-mean",component:Bi}),n.a.createElement(m.a,{path:"/horizontal",component:Xr}),n.a.createElement(m.a,{path:"/fundamental-diagram",component:Lo}),n.a.createElement(m.a,{path:"/fundamental-diagrams",component:Bn}),n.a.createElement(m.a,{path:"/flow-and-density",component:zc}),n.a.createElement(m.a,{path:"/",component:Vo}))))},Xo=function(){var e=Yo(Object(r.useState)(null),2),t=e[0],a=e[1],c=function(){a(null)};return n.a.createElement("div",null,n.a.createElement("div",{onClick:function(e){a(e.currentTarget)},style:{cursor:"pointer"}},"menu"),n.a.createElement(Yc.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:c},qo.map((function(e){return n.a.createElement(u.b,{to:e[0],key:e[0]},n.a.createElement(Fc.a,{onClick:c}," ",e[1]))}))))},Jo=Object(s.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif",color:i.a[800],fontSize:"18px"},".katex":{fontSize:"15px"},text:{fontFamily:"Puritan, san-serif",fontSize:"13px"}},title:{backgroundColor:o.a.A700,color:"white",width:"100%",height:"70px",display:"flex",fontFamily:"Helvetica",boxShadow:" 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",marginBottom:"15px",alignItems:"center",padding:"5px 30px",fontSize:"22px",boxSizing:"border-box","& a":{color:"white",textDecoration:"none"},"& a:hover":{color:l.a[100],cursor:"pointer"}},main:{margin:"0 auto",marginTop:"30px",display:"flex",justifyContent:"center",flexDirection:"column"}}),Zo=a(191),Qo=a(122),$o=a(205),el=a.n($o),tl=a(206),al=a.n(tl),rl=document.getElementById("root");if(!rl)throw Error("no root container");var nl=Object(Qo.a)({palette:{primary:{main:el.a[500]},secondary:{main:al.a[500]}}});Object(c.render)(n.a.createElement(Zo.a,{theme:nl},n.a.createElement((function(){return n.a.createElement(u.a,null,n.a.createElement(Bo,null))}),null)),rl)}},[[439,1,2]]]);